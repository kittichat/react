{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import CheckButton from\"react-validation/build/button\";import Form from\"react-validation/build/form\";import{isEmail}from'validator';import Input from'react-validation/build/input';import{isThisQuarter}from'date-fns';import{ThumbUpSharp}from'@material-ui/icons';import HistoryServices from'../../services/history_servies';var required=function required(value){if(!value){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",role:\"alert\"},\"This field is required!\");}};var vemail=function vemail(value){if(!isEmail(value)){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",role:\"alert\"},\"This is not a valid email;\");}};var name=function name(value){if(value.length===0||value.length>40){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",role:\"alert\"},\"please fill in your name\");}};var phone=function phone(phoneno){if(phoneno.length===0||phoneno.length>10){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",role:\"alert\"},\"please fill in your phone number\");}};var CreateForm=/*#__PURE__*/function(_React$Component){_inherits(CreateForm,_React$Component);var _super=_createSuper(CreateForm);function CreateForm(props){var _this;_classCallCheck(this,CreateForm);_this=_super.call(this,props);_this.state={name:\"\",email:\"\",phone:\"\",member:false,isSubmit:false,refundDetail:[],refunding:[],arr:[],pocDetail:[],POC:[]};_this.handleCreate=_this.handleCreate.bind(_assertThisInitialized(_this));_this.memberCheck=_this.memberCheck.bind(_assertThisInitialized(_this));_this.RefundInformation=_this.RefundInformation.bind(_assertThisInitialized(_this));_this.onChangeID=_this.onChangeID.bind(_assertThisInitialized(_this));_this.onChangeName=_this.onChangeName.bind(_assertThisInitialized(_this));_this.POCInformation=_this.POCInformation.bind(_assertThisInitialized(_this));_this.handlePay=_this.handlePay.bind(_assertThisInitialized(_this));_this.handleCancel=_this.handleCancel.bind(_assertThisInitialized(_this));return _this;}_createClass(CreateForm,[{key:\"componentDidMount\",value:function componentDidMount(){this.POCInformation();}},{key:\"memberCheck\",value:function memberCheck(){var user=document.cookie;if(user){this.setState({member:true});}}},{key:\"onChangeName\",value:function onChangeName(e){this.setState({accountName:e.target.value});}},{key:\"onChangeID\",value:function onChangeID(e){this.setState({accountID:e.target.value});}},{key:\"RefundInformation\",value:function RefundInformation(){this.setState({refundDetail:this.props.refundDetail});}},{key:\"POCInformation\",value:function POCInformation(){this.setState({pocDetail:this.props.pocDetail});}},{key:\"handlePay\",value:function handlePay(){HistoryServices.PayOrCancel_post(\"pay\",this.state.arr).then(window.alert(\"Your payment is successfully\"),window.location.reload());}},{key:\"handleCancel\",value:function handleCancel(){HistoryServices.PayOrCancel_post(\"cancel\",this.state.arr).then(window.alert(\"Your cancelation is successfully\"),window.location.reload());}},{key:\"handleChange\",value:function handleChange(bookingid){var _this2=this;this.state.pocDetail.map(function(member){if(member.bookingid===bookingid){if(_this2.state.POC.includes(member.bookingid)===false){_this2.state.POC.push(member.bookingid);}else{var position=_this2.state.POC.indexOf(member.username);_this2.state.POC.splice(position,1);}}});this.setState({arr:this.state.POC});}// **********************************************************************\n},{key:\"handleCreate\",value:function handleCreate(e){var _this3=this;e.preventDefault();this.form.validateAll();if(this.checkBtn.context._errors.length===0){HistoryServices.PayOrCancel_post(this.state.arr).then(function(response){if(response.data.success==false){window.alert(\"Sorry, please check stage again\");window.location.reload();}_this3.setState({message:response.data.message,uuid:response.data.bookingid,// change this line \nprice:response.data.price,isSubmit:true});},function(error){var resMessage=error.response&&error.response.data&&error.response.data.message||error.message||error.toString();_this3.setState({message:resMessage});});}}},{key:\"render\",value:function render(){var _this4=this;console.log(\"POC \",this.state.POC);console.log(this.state.arr);var _this$state=this.state,member=_this$state.member,isSubmit=_this$state.isSubmit;return/*#__PURE__*/React.createElement(\"div\",null,isSubmit?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Form// onSubmit={this.bookingVerfify}\n,{ref:function ref(c){_this4.form=c;}},/*#__PURE__*/React.createElement(\"h1\",null,\"Please sends your receipt to the admin through line\"),/*#__PURE__*/React.createElement(\"h2\",null,\"Thank you\"),/*#__PURE__*/React.createElement(\"h1\",null,\"Total price\"),/*#__PURE__*/React.createElement(\"h1\",null,this.state.price.normal_price),/*#__PURE__*/React.createElement(\"h1\",null,this.state.price.discount_time),/*#__PURE__*/React.createElement(\"h1\",null,this.state.price.discouht_member),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"button\",{className:\"form-control btn btn-primary\",type:\"submit\"},\"Verify\")),/*#__PURE__*/React.createElement(CheckButton,{className:\"\",style:{display:\"none\"},ref:function ref(c){_this4.checkBtn=c;}}))):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Refunding Details\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-refund\"}),/*#__PURE__*/React.createElement(\"ul\",{className:\"ul__booking\"},this.state.pocDetail&&this.state.pocDetail.map(function(detail){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"li\",{className:\"li__booking\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\"// checked = {item.completed}\n,onChange:function onChange(){return _this4.handleChange(detail.bookingid);}}),detail.date,\" \",detail.time,\" \",detail.court));})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"button\",{className:\"Booking__submit\",type:\"submit\",onClick:function onClick(){return _this4.handlePay();}},\"Pay\"),/*#__PURE__*/React.createElement(\"button\",{className:\"Booking__submit\",type:\"submit\",onClick:function onClick(){return _this4.handleCancel();}},\"Cancel\"))));}}]);return CreateForm;}(React.Component);export default CreateForm;","map":{"version":3,"sources":["C:/Users/pentester/react/project/project3/src/history/PayOrCancelModal/CreateForm.js"],"names":["React","CheckButton","Form","isEmail","Input","isThisQuarter","ThumbUpSharp","HistoryServices","required","value","vemail","name","length","phone","phoneno","CreateForm","props","state","email","member","isSubmit","refundDetail","refunding","arr","pocDetail","POC","handleCreate","bind","memberCheck","RefundInformation","onChangeID","onChangeName","POCInformation","handlePay","handleCancel","user","document","cookie","setState","e","accountName","target","accountID","PayOrCancel_post","then","window","alert","location","reload","bookingid","map","includes","push","position","indexOf","username","splice","preventDefault","form","validateAll","checkBtn","context","_errors","response","data","success","message","uuid","price","error","resMessage","toString","console","log","c","normal_price","discount_time","discouht_member","display","detail","handleChange","date","time","court","Component"],"mappings":"k1BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,IAAP,KAAiB,6BAAjB,CACA,OAASC,OAAT,KAAwB,WAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,8BAAlB,CACA,OAASC,aAAT,KAA8B,UAA9B,CACA,OAASC,YAAT,KAA6B,oBAA7B,CAEA,MAAOC,CAAAA,eAAP,KAA4B,gCAA5B,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,KAAK,CAAI,CACxB,GAAI,CAACA,KAAL,CAAY,CACV,mBACE,2BAAK,SAAS,CAAC,oBAAf,CAAoC,IAAI,CAAC,OAAzC,4BADF,CAKD,CACF,CARD,CAUA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAD,KAAK,CAAI,CACtB,GAAI,CAACN,OAAO,CAACM,KAAD,CAAZ,CAAqB,CACnB,mBACE,2BAAK,SAAS,CAAC,oBAAf,CAAoC,IAAI,CAAC,OAAzC,+BADF,CAKD,CACF,CARD,CAUA,GAAME,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAAAF,KAAK,CAAI,CACpB,GAAIA,KAAK,CAACG,MAAN,GAAiB,CAAjB,EAAsBH,KAAK,CAACG,MAAN,CAAe,EAAzC,CAA6C,CAC3C,mBACE,2BAAK,SAAS,CAAC,oBAAf,CAAoC,IAAI,CAAC,OAAzC,6BADF,CAKD,CACF,CARD,CAUA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAAAC,OAAO,CAAI,CAEvB,GAAIA,OAAO,CAACF,MAAR,GAAmB,CAAnB,EAAwBE,OAAO,CAACF,MAAR,CAAiB,EAA7C,CAAiD,CAC/C,mBACE,2BAAK,SAAS,CAAC,oBAAf,CAAoC,IAAI,CAAC,OAAzC,qCADF,CAKD,CACF,CATD,C,GAUMG,CAAAA,U,oHACJ,oBAAYC,KAAZ,CAAmB,4CACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXN,IAAI,CAAE,EADK,CAEXO,KAAK,CAAE,EAFI,CAGXL,KAAK,CAAE,EAHI,CAIXM,MAAM,CAAE,KAJG,CAKXC,QAAQ,CAAE,KALC,CAMXC,YAAY,CAAE,EANH,CAOXC,SAAS,CAAE,EAPA,CAQXC,GAAG,CAAE,EARM,CASXC,SAAS,CAAE,EATA,CAUXC,GAAG,CAAC,EAVO,CAAb,CAcA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,WAAL,CAAmB,MAAKA,WAAL,CAAiBD,IAAjB,+BAAnB,CACA,MAAKE,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBF,IAAvB,+BAAzB,CACA,MAAKG,UAAL,CAAkB,MAAKA,UAAL,CAAgBH,IAAhB,+BAAlB,CACA,MAAKI,YAAL,CAAoB,MAAKA,YAAL,CAAkBJ,IAAlB,+BAApB,CACA,MAAKK,cAAL,CAAsB,MAAKA,cAAL,CAAoBL,IAApB,+BAAtB,CACA,MAAKM,SAAL,CAAiB,MAAKA,SAAL,CAAeN,IAAf,+BAAjB,CACA,MAAKO,YAAL,CAAoB,MAAKA,YAAL,CAAkBP,IAAlB,+BAApB,CAvBiB,aAwBlB,C,wDAID,4BAAoB,CAClB,KAAKK,cAAL,GAED,C,2BAED,sBAAc,CAEZ,GAAIG,CAAAA,IAAI,CAAGC,QAAQ,CAACC,MAApB,CACA,GAAIF,IAAJ,CAAU,CACR,KAAKG,QAAL,CAAc,CACZnB,MAAM,CAAE,IADI,CAAd,EAGD,CACF,C,4BAED,sBAAaoB,CAAb,CAAgB,CACd,KAAKD,QAAL,CAAc,CACZE,WAAW,CAAED,CAAC,CAACE,MAAF,CAAShC,KADV,CAAd,EAGD,C,0BAED,oBAAW8B,CAAX,CAAc,CACZ,KAAKD,QAAL,CAAc,CACZI,SAAS,CAAEH,CAAC,CAACE,MAAF,CAAShC,KADR,CAAd,EAGD,C,iCAED,4BAAoB,CAClB,KAAK6B,QAAL,CAAc,CACZjB,YAAY,CAAE,KAAKL,KAAL,CAAWK,YADb,CAAd,EAGD,C,8BAED,yBAAiB,CACf,KAAKiB,QAAL,CAAc,CACZd,SAAS,CAAE,KAAKR,KAAL,CAAWQ,SADV,CAAd,EAGD,C,yBAED,oBAAW,CACTjB,eAAe,CAACoC,gBAAhB,CACE,KADF,CAEE,KAAK1B,KAAL,CAAWM,GAFb,EAICqB,IAJD,CAKEC,MAAM,CAACC,KAAP,CAAa,8BAAb,CALF,CAMED,MAAM,CAACE,QAAP,CAAgBC,MAAhB,EANF,EAQD,C,4BAED,uBAAc,CACZzC,eAAe,CAACoC,gBAAhB,CACE,QADF,CAEE,KAAK1B,KAAL,CAAWM,GAFb,EAICqB,IAJD,CAKEC,MAAM,CAACC,KAAP,CAAa,kCAAb,CALF,CAMED,MAAM,CAACE,QAAP,CAAgBC,MAAhB,EANF,EAQD,C,4BAED,sBAAaC,SAAb,CAAwB,iBACtB,KAAKhC,KAAL,CAAWO,SAAX,CAAqB0B,GAArB,CAAyB,SAAA/B,MAAM,CAAI,CACjC,GAAIA,MAAM,CAAC8B,SAAP,GAAqBA,SAAzB,CAAoC,CAClC,GAAI,MAAI,CAAChC,KAAL,CAAWQ,GAAX,CAAe0B,QAAf,CAAwBhC,MAAM,CAAC8B,SAA/B,IAA8C,KAAlD,CAAyD,CACvD,MAAI,CAAChC,KAAL,CAAWQ,GAAX,CAAe2B,IAAf,CACEjC,MAAM,CAAC8B,SADT,EAGD,CAJD,IAIO,CACL,GAAII,CAAAA,QAAQ,CAAG,MAAI,CAACpC,KAAL,CAAWQ,GAAX,CAAe6B,OAAf,CAAuBnC,MAAM,CAACoC,QAA9B,CAAf,CACA,MAAI,CAACtC,KAAL,CAAWQ,GAAX,CAAe+B,MAAf,CAAsBH,QAAtB,CAAgC,CAAhC,EACD,CACF,CACF,CAXD,EAaA,KAAKf,QAAL,CAAc,CACZf,GAAG,CAAE,KAAKN,KAAL,CAAWQ,GADJ,CAAd,EAGD,CACD;4BACA,sBAAac,CAAb,CAAgB,iBACdA,CAAC,CAACkB,cAAF,GACA,KAAKC,IAAL,CAAUC,WAAV,GAGA,GAAI,KAAKC,QAAL,CAAcC,OAAd,CAAsBC,OAAtB,CAA8BlD,MAA9B,GAAyC,CAA7C,CAAgD,CAC9CL,eAAe,CAACoC,gBAAhB,CACE,KAAK1B,KAAL,CAAWM,GADb,EAKGqB,IALH,CAMI,SAAAmB,QAAQ,CAAI,CACV,GAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAd,EAAyB,KAA7B,CAAoC,CAClCpB,MAAM,CAACC,KAAP,CAAa,iCAAb,EACAD,MAAM,CAACE,QAAP,CAAgBC,MAAhB,GACD,CACD,MAAI,CAACV,QAAL,CAAc,CACZ4B,OAAO,CAAEH,QAAQ,CAACC,IAAT,CAAcE,OADX,CAEZC,IAAI,CAAEJ,QAAQ,CAACC,IAAT,CAAcf,SAFR,CAEmB;AAC/BmB,KAAK,CAAEL,QAAQ,CAACC,IAAT,CAAcI,KAHT,CAIZhD,QAAQ,CAAE,IAJE,CAAd,EAOD,CAlBL,CAmBI,SAAAiD,KAAK,CAAI,CACP,GAAMC,CAAAA,UAAU,CACbD,KAAK,CAACN,QAAN,EACCM,KAAK,CAACN,QAAN,CAAeC,IADhB,EAECK,KAAK,CAACN,QAAN,CAAeC,IAAf,CAAoBE,OAFtB,EAGAG,KAAK,CAACH,OAHN,EAIAG,KAAK,CAACE,QAAN,EALF,CAOA,MAAI,CAACjC,QAAL,CAAc,CACZ4B,OAAO,CAAEI,UADG,CAAd,EAGD,CA9BL,EAgCD,CACF,C,sBAGD,iBAAS,iBAEPE,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAmB,KAAKxD,KAAL,CAAWQ,GAA9B,EACA+C,OAAO,CAACC,GAAR,CAAY,KAAKxD,KAAL,CAAWM,GAAvB,EAEA,gBAA6B,KAAKN,KAAlC,CAAQE,MAAR,aAAQA,MAAR,CAAgBC,QAAhB,aAAgBA,QAAhB,CACA,mBACE,+BACIA,QAAQ,cACR,4CACE,oBAAC,IACC;AADF,EAEE,GAAG,CAAE,aAAAsD,CAAC,CAAI,CACR,MAAI,CAAChB,IAAL,CAAYgB,CAAZ,CACD,CAJH,eAQE,oFARF,cASE,0CATF,cAWE,4CAXF,cAYE,8BAAK,KAAKzD,KAAL,CAAWmD,KAAX,CAAiBO,YAAtB,CAZF,cAaE,8BAAK,KAAK1D,KAAL,CAAWmD,KAAX,CAAiBQ,aAAtB,CAbF,cAcE,8BAAK,KAAK3D,KAAL,CAAWmD,KAAX,CAAiBS,eAAtB,CAdF,cAgBE,2BAAK,SAAS,CAAC,YAAf,eACE,8BAAQ,SAAS,CAAC,8BAAlB,CAAiD,IAAI,CAAC,QAAtD,WADF,CAhBF,cAsBE,oBAAC,WAAD,EACE,SAAS,CAAC,EADZ,CAEE,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAX,CAFT,CAGE,GAAG,CAAE,aAAAJ,CAAC,CAAI,CACR,MAAI,CAACd,QAAL,CAAgBc,CAAhB,CACD,CALH,EAtBF,CADF,CADQ,cAuCR,4CAII,kDAJJ,cAKI,2BAAK,SAAS,CAAC,aAAf,EALJ,cAQI,0BACE,SAAS,CAAC,aADZ,EAGG,KAAKzD,KAAL,CAAWO,SAAX,EACC,KAAKP,KAAL,CAAWO,SAAX,CAAqB0B,GAArB,CAAyB,SAAA6B,MAAM,qBAC7B,4CAEE,0BACE,SAAS,CAAC,aADZ,eAIE,6BACE,IAAI,CAAC,UACL;AAFF,CAGE,QAAQ,CAAE,0BAAM,CAAA,MAAI,CAACC,YAAL,CAAkBD,MAAM,CAAC9B,SAAzB,CAAN,EAHZ,EAJF,CASG8B,MAAM,CAACE,IATV,KASiBF,MAAM,CAACG,IATxB,KAS+BH,MAAM,CAACI,KATtC,CAFF,CAD6B,EAA/B,CAJJ,CARJ,cA+BI,2BAAK,SAAS,CAAC,YAAf,eACE,8BACA,SAAS,CAAC,iBADV,CAEA,IAAI,CAAC,QAFL,CAGA,OAAO,CAAI,yBAAM,CAAA,MAAI,CAAClD,SAAL,EAAN,EAHX,QADF,cAQE,8BACA,SAAS,CAAC,iBADV,CAEC,IAAI,CAAC,QAFN,CAGC,OAAO,CAAI,yBAAM,CAAA,MAAI,CAACC,YAAL,EAAN,EAHZ,WARF,CA/BJ,CAxCJ,CADF,CA+FD,C,wBA5PsBlC,KAAK,CAACoF,S,EA+P/B,cAAerE,CAAAA,UAAf","sourcesContent":["import React from 'react'\r\nimport CheckButton from \"react-validation/build/button\"\r\nimport Form from \"react-validation/build/form\"\r\nimport { isEmail } from 'validator'\r\nimport Input from 'react-validation/build/input'\r\nimport { isThisQuarter } from 'date-fns'\r\nimport { ThumbUpSharp } from '@material-ui/icons'\r\n\r\nimport HistoryServices from '../../services/history_servies'\r\n\r\nconst required = value => {\r\n  if (!value) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        This field is required!\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst vemail = value => {\r\n  if (!isEmail(value)) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        This is not a valid email;\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst name = value => {\r\n  if (value.length === 0 || value.length > 40) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        please fill in your name\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst phone = phoneno => {\r\n\r\n  if (phoneno.length === 0 || phoneno.length > 10) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        please fill in your phone number\r\n      </div>\r\n    )\r\n  }\r\n}\r\nclass CreateForm extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      name: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n      member: false,\r\n      isSubmit: false,\r\n      refundDetail: [],\r\n      refunding: [],\r\n      arr: [],\r\n      pocDetail: [],\r\n      POC:[],\r\n\r\n    }\r\n\r\n    this.handleCreate = this.handleCreate.bind(this)\r\n    this.memberCheck = this.memberCheck.bind(this)\r\n    this.RefundInformation = this.RefundInformation.bind(this)\r\n    this.onChangeID = this.onChangeID.bind(this)\r\n    this.onChangeName = this.onChangeName.bind(this)\r\n    this.POCInformation = this.POCInformation.bind(this)\r\n    this.handlePay = this.handlePay.bind(this)\r\n    this.handleCancel = this.handleCancel.bind(this)\r\n  }\r\n\r\n\r\n\r\n  componentDidMount() {\r\n    this.POCInformation()\r\n\r\n  }\r\n\r\n  memberCheck() {\r\n\r\n    let user = document.cookie\r\n    if (user) {\r\n      this.setState({\r\n        member: true\r\n      })\r\n    }\r\n  }\r\n\r\n  onChangeName(e) {\r\n    this.setState({\r\n      accountName: e.target.value\r\n    })\r\n  }\r\n\r\n  onChangeID(e) {\r\n    this.setState({\r\n      accountID: e.target.value\r\n    })\r\n  }\r\n\r\n  RefundInformation() {\r\n    this.setState({\r\n      refundDetail: this.props.refundDetail\r\n    })\r\n  }\r\n\r\n  POCInformation() {\r\n    this.setState({\r\n      pocDetail: this.props.pocDetail\r\n    })\r\n  }\r\n\r\n  handlePay(){\r\n    HistoryServices.PayOrCancel_post(\r\n      \"pay\",\r\n      this.state.arr,\r\n    )\r\n    .then(\r\n      window.alert(\"Your payment is successfully\"),\r\n      window.location.reload()\r\n      )\r\n  }\r\n\r\n  handleCancel(){\r\n    HistoryServices.PayOrCancel_post(\r\n      \"cancel\",\r\n      this.state.arr,\r\n    )\r\n    .then(\r\n      window.alert(\"Your cancelation is successfully\"),\r\n      window.location.reload()\r\n      )\r\n  }\r\n\r\n  handleChange(bookingid) {\r\n    this.state.pocDetail.map(member => {\r\n      if (member.bookingid === bookingid) {\r\n        if (this.state.POC.includes(member.bookingid) === false) {\r\n          this.state.POC.push(\r\n            member.bookingid,\r\n          )\r\n        } else {\r\n          let position = this.state.POC.indexOf(member.username)\r\n          this.state.POC.splice(position, 1)\r\n        }\r\n      }\r\n    })\r\n\r\n    this.setState({\r\n      arr: this.state.POC\r\n    })\r\n  }\r\n  // **********************************************************************\r\n  handleCreate(e) {\r\n    e.preventDefault()\r\n    this.form.validateAll();\r\n\r\n\r\n    if (this.checkBtn.context._errors.length === 0) {\r\n      HistoryServices.PayOrCancel_post(\r\n        this.state.arr,\r\n\r\n\r\n      )\r\n        .then(\r\n          response => {\r\n            if (response.data.success == false) {\r\n              window.alert(\"Sorry, please check stage again\")\r\n              window.location.reload()\r\n            }\r\n            this.setState({\r\n              message: response.data.message,\r\n              uuid: response.data.bookingid, // change this line \r\n              price: response.data.price,\r\n              isSubmit: true,\r\n\r\n            })\r\n          },\r\n          error => {\r\n            const resMessage =\r\n              (error.response &&\r\n                error.response.data &&\r\n                error.response.data.message) ||\r\n              error.message ||\r\n              error.toString();\r\n\r\n            this.setState({\r\n              message: resMessage\r\n            })\r\n          }\r\n        )\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    console.log(\"POC \",this.state.POC)\r\n    console.log(this.state.arr)\r\n\r\n    const { member, isSubmit } = this.state\r\n    return (\r\n      <div>\r\n        { isSubmit ?\r\n          <div>\r\n            <Form\r\n              // onSubmit={this.bookingVerfify}\r\n              ref={c => {\r\n                this.form = c\r\n              }}\r\n\r\n            >\r\n              {/* I think we should should some qr code for tranfers the money */}\r\n              <h1>Please sends your receipt to the admin through line</h1>\r\n              <h2>Thank you</h2>\r\n\r\n              <h1>Total price</h1>\r\n              <h1>{this.state.price.normal_price}</h1>\r\n              <h1>{this.state.price.discount_time}</h1>\r\n              <h1>{this.state.price.discouht_member}</h1>\r\n\r\n              <div className=\"form-group\">\r\n                <button className=\"form-control btn btn-primary\" type=\"submit\">\r\n                  Verify\r\n         </button>\r\n              </div>\r\n\r\n              <CheckButton\r\n                className=\"\"\r\n                style={{ display: \"none\" }}\r\n                ref={c => {\r\n                  this.checkBtn = c\r\n                }}\r\n              >\r\n\r\n              </CheckButton>\r\n\r\n            </Form>\r\n\r\n          </div>\r\n\r\n          :\r\n          <div \r\n          // className=\"list_row\"\r\n          >\r\n\r\n              <h1>Refunding Details</h1>\r\n              <div className=\"form-refund\">\r\n\r\n              </div>\r\n              <ul\r\n                className=\"ul__booking\"\r\n              >\r\n                {this.state.pocDetail &&\r\n                  this.state.pocDetail.map(detail => (\r\n                    <div>\r\n\r\n                      <li\r\n                        className=\"li__booking\"\r\n                      >\r\n                        {/* {detail.number} */}\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          // checked = {item.completed}\r\n                          onChange={() => this.handleChange(detail.bookingid)}\r\n                        />\r\n                        {detail.date} {detail.time} {detail.court}\r\n                      </li>\r\n                    </div>\r\n                  ))\r\n                }\r\n              </ul>\r\n\r\n              <div className=\"form-group\">\r\n                <button \r\n                className=\"Booking__submit\"\r\n                type=\"submit\"\r\n                onClick = {() => this.handlePay()} \r\n                 >\r\n                  Pay\r\n                </button>\r\n                <button \r\n                className=\"Booking__submit\"\r\n                 type=\"submit\"\r\n                 onClick = {() => this.handleCancel()}\r\n                 >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n\r\n          </div>\r\n        }\r\n\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nexport default CreateForm\r\n\r\n"]},"metadata":{},"sourceType":"module"}