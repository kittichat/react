{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\src\\\\booking\\\\Afterbooking.js\";\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useExpanded, useTable } from 'react-table'; // import makeData from './makeData'\n\nimport Data from '../api/booking_data';\nimport BookingService from '../services/booking_service';\nimport '../css/Afterbooking.css';\nimport { Container } from './bookingModal/Container';\nconst Styles = styled.div`\n  padding: 1rem;\n  table {\n    border-spacing: 0;\n    border: 1px solid black;\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n    th,\n    td {\n      margin: 0;\n      padding: 0.5rem;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n      :last-child {\n        border-right: 0;\n      }\n    }\n  }\n  `;\n\nfunction Table({\n  columns,\n  data,\n  arrRoot,\n  setArr,\n  ClearState\n}) {\n  // Use the state and functions returned from useTable to build your UI\n  // becareful if array has some problem, just set arr value default to [0]\n  const [arr, setArrState] = useState([]);\n  const bgforTime = {\n    background: \"white\"\n  };\n\n  const bgforTrue = cell => {\n    let x = {\n      // row:cell.row.index,\n      time: cell.row.values.time,\n      column: cell.column.Header\n    };\n\n    for (let j in arr) {\n      var bgCheck = false;\n\n      if (JSON.stringify(x) == JSON.stringify(arr[j])) {\n        bgCheck = true;\n        break;\n      }\n    }\n\n    if (bgCheck) {\n      return {\n        background: \"green\"\n      };\n    } else {\n      return {\n        background: 'white'\n      };\n    }\n  };\n\n  const bgforFalse = {\n    background: \"red\"\n  };\n\n  const bgCell = cell => {\n    if (cell.column.Header == \"time\") {\n      return bgforTime;\n    } else if (cell.value == true) {\n      return bgforTrue(cell);\n    } else {\n      return bgforFalse;\n    }\n  };\n\n  const testClick = cell => {\n    let x = {\n      //    row:cell.row.index,\n      time: cell.row.values.time,\n      column: cell.column.Header\n    };\n    var sign = false;\n\n    for (let i in arr) {\n      if (JSON.stringify(x) == JSON.stringify(arr[i])) {\n        let position = i;\n        arr.splice(position, 1);\n        sign = true;\n        console.log(\"remove\");\n        console.log(\"position \" + position);\n        {\n          setArr({\n            arr\n          });\n        }\n        break;\n      }\n    } //    }\n\n\n    if (cell.value == true && sign == false) {\n      arr.push(x);\n      console.log(\"add\");\n      {\n        setArr({\n          arr\n        });\n      }\n    }\n\n    console.log(\"this is arr\");\n    console.log(arr);\n    console.log(\"this is arrRoot\");\n    console.log(arrRoot);\n    console.log(x);\n    console.log(\"value \");\n    console.log(cell.row.values.time);\n  };\n\n  {\n    ClearState(setArrState([]));\n  }\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow\n  } = useTable({\n    columns,\n    data\n  }); // Render the UI for your table\n\n  return /*#__PURE__*/React.createElement(\"table\", Object.assign({}, getTableProps(), {\n    className: \"Booking__table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, headerGroups.map(headerGroup => /*#__PURE__*/React.createElement(\"tr\", Object.assign({}, headerGroup.getHeaderGroupProps(), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }), headerGroup.headers.map(column => /*#__PURE__*/React.createElement(\"th\", Object.assign({}, column.getHeaderProps(), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 29\n    }\n  }), column.render('Header')))))), /*#__PURE__*/React.createElement(\"tbody\", Object.assign({}, getTableBodyProps(), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }), rows.map((row, i) => {\n    prepareRow(row);\n    return /*#__PURE__*/React.createElement(\"tr\", Object.assign({}, row.getRowProps(), {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 25\n      }\n    }), row.cells.map(cell => {\n      return /*#__PURE__*/React.createElement(\"td\", Object.assign({}, cell.getCellProps(), {\n        style: bgCell(cell),\n        onClick: () => {\n          testClick(cell);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 40\n        }\n      }), cell.render('Cell'));\n    }));\n  })));\n} // }\n\n\nfunction Afterbooking() {\n  const [arrRoot, setArr] = useState([0]);\n  const [dataTemp, setDataTemp] = useState([]);\n  const [apidata, setApidata] = useState(undefined);\n  useEffect(() => {\n    BookingService.booking().then(response => {\n      setDataTemp(response.data.status);\n    });\n  }, []);\n  const columns = React.useMemo(() => [{\n    Header: \"All courts\",\n    // columns: [\n    //     {Header:\"time\",accessor:\"time\"},\n    //     {Header:\"Court1\",accessor:\"Court1\"},\n    //     {Header:\"Court2\",accessor:\"Court2\"},                                            \n    //     {Header:\"Court3\",accessor:\"Court3\"},                                            \n    // ]\n    // use this when you want to use data api \n    columns: [{\n      Header: \"time\",\n      accessor: \"time\"\n    }, {\n      Header: \"Court1\",\n      accessor: \"court1\"\n    }, {\n      Header: \"Court2\",\n      accessor: \"court2\"\n    }, {\n      Header: \"Court3\",\n      accessor: \"court3\"\n    }, {\n      Header: \"Court4\",\n      accessor: \"court4\"\n    }, {\n      Header: \"Court5\",\n      accessor: \"court5\"\n    }, {\n      Header: \"Court6\",\n      accessor: \"court6\"\n    }, {\n      Header: \"Court7\",\n      accessor: \"court7\"\n    }, {\n      Header: \"Court8\",\n      accessor: \"court8\"\n    }, {\n      Header: \"Court9\",\n      accessor: \"court9\"\n    }]\n  }], []); // the problem that I cannot use data because when useEffect has set to dataTemp, data is not set too\n\n  const data = React.useMemo(() => Data, []);\n  console.log(data);\n  console.log(dataTemp);\n  console.log(\"this is arrRoot\");\n  console.log(arrRoot);\n  const triggerText = 'Booking';\n\n  const onSubmit = event => {\n    event.preventDefault(event);\n  };\n\n  const ClearState = () => {};\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Afterbooking\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Styles, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"group1_table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    className: \"group1_eachtable\",\n    columns: columns,\n    data: data,\n    arr: arrRoot,\n    setArr: setArr,\n    ClearState: ClearState,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"Booking__clear\",\n    onClick: () => {\n      ClearState();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 13\n    }\n  }, \"Clear\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"Booking__submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 13\n    }\n  }, \"Submit\"), /*#__PURE__*/React.createElement(Container, {\n    triggerText: triggerText,\n    onSubmit: onSubmit,\n    bookingDetail: arrRoot.arr,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default Afterbooking;","map":{"version":3,"sources":["C:/Users/pentester/react/project/project3/src/booking/Afterbooking.js"],"names":["React","useState","useEffect","styled","useExpanded","useTable","Data","BookingService","Container","Styles","div","Table","columns","data","arrRoot","setArr","ClearState","arr","setArrState","bgforTime","background","bgforTrue","cell","x","time","row","values","column","Header","j","bgCheck","JSON","stringify","bgforFalse","bgCell","value","testClick","sign","i","position","splice","console","log","push","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","map","headerGroup","getHeaderGroupProps","headers","getHeaderProps","render","getRowProps","cells","getCellProps","Afterbooking","dataTemp","setDataTemp","apidata","setApidata","undefined","booking","then","response","status","useMemo","accessor","triggerText","onSubmit","event","preventDefault"],"mappings":"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","sourcesContent":["import React , {useState, useEffect} from 'react'\r\nimport styled from 'styled-components'\r\nimport { useExpanded, useTable } from 'react-table'\r\n\r\n// import makeData from './makeData'\r\nimport Data from '../api/booking_data'\r\nimport BookingService from '../services/booking_service'\r\nimport '../css/Afterbooking.css'\r\n\r\nimport {Container} from './bookingModal/Container'\r\n\r\nconst Styles = styled.div`\r\n  padding: 1rem;\r\n  table {\r\n    border-spacing: 0;\r\n    border: 1px solid black;\r\n    tr {\r\n      :last-child {\r\n        td {\r\n          border-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n    th,\r\n    td {\r\n      margin: 0;\r\n      padding: 0.5rem;\r\n      border-bottom: 1px solid black;\r\n      border-right: 1px solid black;\r\n      :last-child {\r\n        border-right: 0;\r\n      }\r\n    }\r\n  }\r\n  `\r\n\r\nfunction Table({ columns, data , arrRoot , setArr , ClearState }) {\r\n    // Use the state and functions returned from useTable to build your UI\r\n    // becareful if array has some problem, just set arr value default to [0]\r\n    const [arr,setArrState] = useState([])\r\nconst bgforTime = {\r\n    background : \"white\"\r\n}\r\nconst bgforTrue =(cell) => {\r\n\r\n    let  x = {\r\n        // row:cell.row.index,\r\n        time:cell.row.values.time,\r\n        column:cell.column.Header\r\n    }\r\n    for(let j in arr){\r\n        var bgCheck = false\r\n    if(JSON.stringify(x) == JSON.stringify(arr[j]) ){\r\n        bgCheck = true\r\n        break\r\n    }\r\n    }\r\n    if(bgCheck){\r\n        return(\r\n            {\r\n                background : \"green\"\r\n            }\r\n        )\r\n    }else{\r\n        return {background : 'white'}\r\n    }\r\n\r\n}\r\n\r\n\r\nconst bgforFalse = {\r\n    background : \"red\"\r\n    \r\n}\r\n\r\nconst bgCell = (cell) => {\r\n    if(cell.column.Header == \"time\"){\r\n        return bgforTime\r\n    }\r\n    else if(cell.value == true){\r\n        return bgforTrue(cell)\r\n        \r\n    }\r\n    else{\r\n        return bgforFalse\r\n    }\r\n\r\n    \r\n}\r\n\r\n\r\n    const testClick = (cell) => { \r\n       let x = {\r\n        //    row:cell.row.index,\r\n            time:cell.row.values.time,\r\n           column:cell.column.Header\r\n       }\r\n       var sign = false\r\n        for(let i in arr){\r\n            if(JSON.stringify(x) == JSON.stringify(arr[i])){\r\n                let position = i\r\n                arr.splice(position,1)\r\n                sign = true\r\n                console.log(\"remove\")\r\n                console.log(\"position \" + position)\r\n                {setArr({arr})}\r\n                break\r\n\r\n            }\r\n        }\r\n    //    }\r\n       if(cell.value == true && sign == false){\r\n           arr.push(x)\r\n           console.log(\"add\")\r\n           \r\n        {setArr({arr})}\r\n\r\n    }\r\n       console.log(\"this is arr\")\r\n       console.log(arr)\r\n       console.log(\"this is arrRoot\")\r\n       console.log(arrRoot)\r\n       console.log(x)\r\n       console.log(\"value \")\r\n       console.log(cell.row.values.time)\r\n   \r\n    }\r\n\r\n    {ClearState(\r\n        setArrState([])\r\n    )}\r\n\r\n    const {\r\n        getTableProps,\r\n        getTableBodyProps,\r\n        headerGroups,\r\n        rows,\r\n        prepareRow,\r\n    } = useTable({\r\n        columns,\r\n        data,\r\n    })\r\n    // Render the UI for your table\r\n    return (\r\n        <table {...getTableProps()}\r\n            className=\"Booking__table\"\r\n        >\r\n            <thead>\r\n                {headerGroups.map(headerGroup => (\r\n                    <tr {...headerGroup.getHeaderGroupProps()}>\r\n                        {headerGroup.headers.map(column => (\r\n                            <th {...column.getHeaderProps()}>{column.render('Header')}</th>\r\n                        ))}\r\n                    </tr>\r\n                ))}\r\n            </thead>\r\n            <tbody {...getTableBodyProps()}>\r\n                {rows.map((row, i) => {\r\n                    prepareRow(row)\r\n                    return (\r\n                        <tr {...row.getRowProps()}>\r\n                            {row.cells.map(cell => {\r\n                                return <td {...cell.getCellProps()}\r\n                                     style = {bgCell(cell)}\r\n                                    onClick = {() => {testClick(cell)}}\r\n                                >\r\n\r\n                                    {cell.render('Cell')}</td>\r\n                            })}\r\n                        </tr>\r\n                    )\r\n                })}\r\n            </tbody>\r\n        </table>\r\n    )\r\n\r\n}\r\n// }\r\nfunction Afterbooking() {\r\n    const [arrRoot, setArr] = useState([0])\r\n    const [dataTemp, setDataTemp] = useState([])\r\n    const [apidata,setApidata] = useState(undefined)\r\n    \r\n   useEffect(() => {\r\n       BookingService.booking().then(response => \r\n        {\r\n             setDataTemp(response.data.status)\r\n        }\r\n        )\r\n        \r\n   }, []) \r\n   \r\n   const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                        Header: \"All courts\",\r\n                        // columns: [\r\n                        //     {Header:\"time\",accessor:\"time\"},\r\n                        //     {Header:\"Court1\",accessor:\"Court1\"},\r\n                        //     {Header:\"Court2\",accessor:\"Court2\"},                                            \r\n                        //     {Header:\"Court3\",accessor:\"Court3\"},                                            \r\n                                                                   \r\n                        // ]\r\n                        // use this when you want to use data api \r\n                        columns: [\r\n                            {Header:\"time\",accessor:\"time\"},\r\n                            {Header:\"Court1\",accessor:\"court1\"},\r\n                            {Header:\"Court2\",accessor:\"court2\"},                                            \r\n                            {Header:\"Court3\",accessor:\"court3\"},                                            \r\n                            {Header:\"Court4\",accessor:\"court4\"},                                            \r\n                            {Header:\"Court5\",accessor:\"court5\"},                                            \r\n                            {Header:\"Court6\",accessor:\"court6\"},                                            \r\n                            {Header:\"Court7\",accessor:\"court7\"},                                            \r\n                            {Header:\"Court8\",accessor:\"court8\"},                                            \r\n                            {Header:\"Court9\",accessor:\"court9\"},                                            \r\n                        ]\r\n                    }\r\n        ],\r\n        []\r\n    )\r\n    // the problem that I cannot use data because when useEffect has set to dataTemp, data is not set too\r\n    const data = React.useMemo(() => Data, [])\r\n    console.log(data)\r\n    console.log(dataTemp)\r\n    console.log(\"this is arrRoot\")\r\n    console.log(arrRoot)\r\n\r\n    const triggerText = 'Booking'\r\n    const onSubmit = (event) => {\r\n        event.preventDefault(event)\r\n    }\r\n\r\n    const ClearState = () => {\r\n\r\n    }    \r\n\r\n    return (\r\n        <div className=\"Afterbooking\">\r\n            <Styles>\r\n                <div className=\"group1_table\">\r\n                    <Table className=\"group1_eachtable\" columns={columns} data={data} arr={arrRoot} setArr={setArr} ClearState={ClearState} />\r\n                </div>\r\n            </Styles>\r\n            <button\r\n                className=\"Booking__clear\"\r\n                onClick={() => {ClearState()}}\r\n            >\r\n                Clear\r\n            </button>\r\n            <button\r\n                className=\"Booking__submit\"\r\n        >\r\n                Submit\r\n            </button>\r\n\r\n            <Container triggerText={triggerText} onSubmit={onSubmit} bookingDetail={arrRoot.arr}/>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Afterbooking"]},"metadata":{},"sourceType":"module"}