{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import CheckButton from\"react-validation/build/button\";import Form from\"react-validation/build/form\";import{isEmail}from'validator';import Input from'react-validation/build/input';import{isThisQuarter}from'date-fns';import{ThumbUpSharp}from'@material-ui/icons';// import HistoryServices from '../../services/history_servies'\nimport GroupList from'../../services/groupservices';// import '../../css/RefundForm'\nimport'../../css/RefundForm.css';var required=function required(value){if(!value){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",role:\"alert\"},\"This field is required!\");}};var vemail=function vemail(value){if(!isEmail(value)){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",role:\"alert\"},\"This is not a valid email;\");}};var name=function name(value){if(value.length===0||value.length>40){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",role:\"alert\"},\"please fill in your name\");}};var phone=function phone(phoneno){if(phoneno.length===0||phoneno.length>10){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",role:\"alert\"},\"please fill in your phone number\");}};var CreateForm=/*#__PURE__*/function(_React$Component){_inherits(CreateForm,_React$Component);var _super=_createSuper(CreateForm);function CreateForm(props){var _this;_classCallCheck(this,CreateForm);_this=_super.call(this,props);_this.state={name:\"\",email:\"\",phone:\"\",member:false,isSubmit:false,refundDetail:[],refunding:[],arr:[],accountID:undefined,accountName:undefined,group:undefined};_this.handleCreate=_this.handleCreate.bind(_assertThisInitialized(_this));_this.memberCheck=_this.memberCheck.bind(_assertThisInitialized(_this));_this.RefundInformation=_this.RefundInformation.bind(_assertThisInitialized(_this));_this.onChangeID=_this.onChangeID.bind(_assertThisInitialized(_this));_this.onChangeName=_this.onChangeName.bind(_assertThisInitialized(_this));return _this;}_createClass(CreateForm,[{key:\"componentDidMount\",value:function componentDidMount(){this.RefundInformation();}},{key:\"memberCheck\",value:function memberCheck(){var user=document.cookie;if(user){this.setState({member:true});}}},{key:\"onChangeName\",value:function onChangeName(e){this.setState({accountName:e.target.value});}},{key:\"onChangeID\",value:function onChangeID(e){this.setState({accountID:e.target.value});}},{key:\"RefundInformation\",value:function RefundInformation(){this.setState({refundDetail:this.props.GrouprefundDetail,group:this.props.group});}},{key:\"handleChange\",value:function handleChange(detail){var _this2=this;this.state.refundDetail.map(function(member){var memberBookingDetail={weekday:member.weekday,court:member.court,time:member.time};var detailBookingDetail={weekday:detail.weekday,court:detail.court,time:detail.time};if(JSON.stringify(memberBookingDetail)===JSON.stringify(detailBookingDetail)){if(_this2.state.refunding.includes(memberBookingDetail)===false){_this2.state.refunding.push(memberBookingDetail);}else{var position=_this2.state.refunding.indexOf(memberBookingDetail);_this2.state.refunding.splice(position,1);}}});this.setState({arr:this.state.refunding});}// **********************************************************************\n},{key:\"handleCreate\",value:function handleCreate(e){e.preventDefault();this.form.validateAll();if(this.checkBtn.context._errors.length===0){GroupList.refund(this.state.group,this.state.arr,this.state.accountID,this.state.accountName).then(function(response){if(response.data.success==true){window.alert(\"Your refunding is successfuly\");window.location.reload();}console.log(response);});}}},{key:\"render\",value:function render(){var _this3=this;console.log(\"refund \",this.state.arr);// console.log(\"arr \",this.state.arr)\nvar _this$state=this.state,member=_this$state.member,isSubmit=_this$state.isSubmit;return/*#__PURE__*/React.createElement(\"div\",null,isSubmit?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Form// onSubmit={this.bookingVerfify}\n,{ref:function ref(c){_this3.form=c;}},/*#__PURE__*/React.createElement(\"h1\",null,\"Please sends your receipt to the admin through line\"),/*#__PURE__*/React.createElement(\"h2\",null,\"Thank you\"),/*#__PURE__*/React.createElement(\"h1\",null,\"Total price\"),/*#__PURE__*/React.createElement(\"h1\",null,this.state.price.normal_price),/*#__PURE__*/React.createElement(\"h1\",null,this.state.price.discount_time),/*#__PURE__*/React.createElement(\"h1\",null,this.state.price.discouht_member),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"button\",{className:\"form-control btn btn-primary\",type:\"submit\"},\"Verify\")),/*#__PURE__*/React.createElement(CheckButton,{className:\"\",style:{display:\"none\"},ref:function ref(c){_this3.checkBtn=c;}}))):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleCreate,ref:function ref(c){_this3.form=c;}},/*#__PURE__*/React.createElement(\"h1\",{className:\"Refund__header\"},\"Refunding Details\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-refund\"},/*#__PURE__*/React.createElement(\"div\",{className:\"Refund__accountDetailID\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"Refund__inputDetail\"},\"Account ID: \"),/*#__PURE__*/React.createElement(Input,{className:\"Refund__accountID\",id:\"id\",onChange:this.onChangeID,value:this.state.accountID,validations:[required]})),/*#__PURE__*/React.createElement(\"div\",{className:\"Refund__accountDetailName\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"Refund__inputDetail\"},\"Account Name: \"),/*#__PURE__*/React.createElement(Input,{className:\"Refund__accountName\",id:\"name\",onChange:this.onChangeName,value:this.state.accountName,validations:[required]}))),/*#__PURE__*/React.createElement(\"ul\",{className:\"ul__booking\"},this.state.refundDetail&&this.state.refundDetail.map(function(detail){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"li\",{className:\"Refund__li\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"Refund__checkbox\"// checked = {item.completed}\n,onChange:function onChange(){return _this3.handleChange(detail);}}),/*#__PURE__*/React.createElement(\"pre\",null,detail.weekday,\"  \",detail.time,\"  \",detail.court)));})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"button\",{className:\"Refund__submit\",type:\"submit\"},\"Submit\")),/*#__PURE__*/React.createElement(CheckButton,{className:\"\",style:{display:\"none\"},ref:function ref(c){_this3.checkBtn=c;}}))));}}]);return CreateForm;}(React.Component);export default CreateForm;","map":{"version":3,"sources":["C:/Users/pentester/react/project/project3/src/booking/GroupRefundModal/CreateForm.js"],"names":["React","CheckButton","Form","isEmail","Input","isThisQuarter","ThumbUpSharp","GroupList","required","value","vemail","name","length","phone","phoneno","CreateForm","props","state","email","member","isSubmit","refundDetail","refunding","arr","accountID","undefined","accountName","group","handleCreate","bind","memberCheck","RefundInformation","onChangeID","onChangeName","user","document","cookie","setState","e","target","GrouprefundDetail","detail","map","memberBookingDetail","weekday","court","time","detailBookingDetail","JSON","stringify","includes","push","position","indexOf","splice","preventDefault","form","validateAll","checkBtn","context","_errors","refund","then","response","data","success","window","alert","location","reload","console","log","c","price","normal_price","discount_time","discouht_member","display","handleChange","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport CheckButton from \"react-validation/build/button\"\r\nimport Form from \"react-validation/build/form\"\r\nimport { isEmail } from 'validator'\r\nimport Input from 'react-validation/build/input'\r\nimport { isThisQuarter } from 'date-fns'\r\nimport { ThumbUpSharp } from '@material-ui/icons'\r\n\r\n// import HistoryServices from '../../services/history_servies'\r\nimport GroupList from '../../services/groupservices'\r\n\r\n// import '../../css/RefundForm'\r\nimport '../../css/RefundForm.css'\r\n\r\nconst required = value => {\r\n  if (!value) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        This field is required!\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst vemail = value => {\r\n  if (!isEmail(value)) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        This is not a valid email;\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst name = value => {\r\n  if (value.length === 0 || value.length > 40) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        please fill in your name\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst phone = phoneno => {\r\n\r\n  if (phoneno.length === 0 || phoneno.length > 10) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        please fill in your phone number\r\n      </div>\r\n    )\r\n  }\r\n}\r\nclass CreateForm extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      name: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n      member: false,\r\n      isSubmit: false,\r\n      refundDetail: [],\r\n      refunding: [],\r\n      arr: [],\r\n      accountID:undefined,\r\n      accountName:undefined,\r\n      group:undefined,\r\n\r\n\r\n    }\r\n\r\n    this.handleCreate = this.handleCreate.bind(this)\r\n    this.memberCheck = this.memberCheck.bind(this)\r\n    this.RefundInformation = this.RefundInformation.bind(this)\r\n    this.onChangeID = this.onChangeID.bind(this)\r\n    this.onChangeName = this.onChangeName.bind(this)\r\n  }\r\n\r\n\r\n\r\n  componentDidMount() {\r\n    this.RefundInformation()\r\n\r\n  }\r\n\r\n  memberCheck() {\r\n    let user = document.cookie\r\n    if (user) {\r\n      this.setState({\r\n        member: true\r\n      })\r\n    }\r\n  }\r\n\r\n  onChangeName(e){\r\n    this.setState({\r\n      accountName : e.target.value\r\n    })\r\n  }\r\n\r\n  onChangeID(e){\r\n    this.setState({\r\n      accountID : e.target.value\r\n    })\r\n  }\r\n\r\n  RefundInformation() {\r\n    this.setState({\r\n      refundDetail: this.props.GrouprefundDetail,\r\n      group:this.props.group\r\n    })\r\n  }\r\n\r\n  handleChange(detail) {\r\n    this.state.refundDetail.map(member => {\r\n      let memberBookingDetail = {weekday:member.weekday,court:member.court,time:member.time}\r\n      let detailBookingDetail = {weekday:detail.weekday,court:detail.court,time:detail.time} \r\n      if ( JSON.stringify(memberBookingDetail) === JSON.stringify(detailBookingDetail)) {\r\n        if (this.state.refunding.includes(memberBookingDetail) === false) {\r\n          this.state.refunding.push(\r\n            memberBookingDetail,\r\n          )\r\n        } else {\r\n          let position = this.state.refunding.indexOf(memberBookingDetail)\r\n          this.state.refunding.splice(position, 1)\r\n        }\r\n     \r\n      }\r\n     \r\n    })\r\n\r\n    this.setState({\r\n      arr: this.state.refunding\r\n    })\r\n  }\r\n\r\n  // **********************************************************************\r\n  handleCreate(e) {\r\n    e.preventDefault()\r\n    this.form.validateAll();\r\n\r\n\r\n    if (this.checkBtn.context._errors.length === 0) {\r\n      GroupList.refund(\r\n        this.state.group,\r\n        this.state.arr,\r\n        this.state.accountID,\r\n        this.state.accountName\r\n        \r\n      )\r\n      .then( response => {\r\n        if (response.data.success == true){\r\n        window.alert(\"Your refunding is successfuly\");\r\n        window.location.reload();\r\n        \r\n\r\n        }\r\n        console.log(response)\r\n        \r\n      })\r\n\r\n    \r\n\r\n\r\n  }\r\n}\r\n\r\n  render() {\r\n\r\n    console.log(\"refund \",this.state.arr)\r\n    // console.log(\"arr \",this.state.arr)\r\n\r\n    const { member, isSubmit } = this.state\r\n    return (\r\n      <div>\r\n        { isSubmit ?\r\n          <div>\r\n            <Form\r\n              // onSubmit={this.bookingVerfify}\r\n              ref={c => {\r\n                this.form = c\r\n              }}\r\n\r\n            >\r\n              {/* I think we should should some qr code for tranfers the money */}\r\n              <h1>Please sends your receipt to the admin through line</h1>\r\n              <h2>Thank you</h2>\r\n\r\n              <h1>Total price</h1>\r\n              <h1>{this.state.price.normal_price}</h1>\r\n              <h1>{this.state.price.discount_time}</h1>\r\n              <h1>{this.state.price.discouht_member}</h1>\r\n\r\n              <div className=\"form-group\">\r\n                <button className=\"form-control btn btn-primary\" type=\"submit\">\r\n                  Verify\r\n         </button>\r\n              </div>\r\n\r\n              <CheckButton\r\n                className=\"\"\r\n                style={{ display: \"none\" }}\r\n                ref={c => {\r\n                  this.checkBtn = c\r\n                }}\r\n              >\r\n\r\n              </CheckButton>\r\n\r\n            </Form>\r\n\r\n          </div>\r\n\r\n          :\r\n          <div\r\n          //  className=\"list_row\"\r\n           >\r\n            <Form\r\n              onSubmit={this.handleCreate}\r\n              ref={c => {\r\n                this.form = c\r\n              }}\r\n\r\n            >\r\n\r\n              <h1 className=\"Refund__header\">Refunding Details</h1>\r\n              <div\r\n               className=\"form-refund\"\r\n               >\r\n\r\n                {/* <label className=\"Group__label\">Group Name</label> */}\r\n                <div className=\"Refund__accountDetailID\">\r\n                <h1 className=\"Refund__inputDetail\">Account ID: </h1>\r\n                <Input\r\n                  className=\"Refund__accountID\"\r\n                  id=\"id\"\r\n                  onChange={this.onChangeID}\r\n                  value={this.state.accountID}\r\n                  validations={[required]}\r\n                />\r\n                </div>\r\n                <div className=\"Refund__accountDetailName\">\r\n                <h1 className=\"Refund__inputDetail\">Account Name: </h1>\r\n                <Input\r\n                  className=\"Refund__accountName\"\r\n                  id=\"name\"\r\n                  onChange={this.onChangeName}\r\n                  value={this.state.accountName}\r\n                  validations={[required]}\r\n                />\r\n                </div>\r\n              </div>\r\n              <ul\r\n                className=\"ul__booking\"\r\n              >\r\n                {this.state.refundDetail &&\r\n                  this.state.refundDetail.map(detail => (\r\n                    <div>\r\n\r\n                      <li\r\n                        className=\"Refund__li\"\r\n                      >\r\n                        {/* {detail.number} */}\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          className=\"Refund__checkbox\"\r\n                          // checked = {item.completed}\r\n                          onChange={() => this.handleChange(detail)}\r\n                        />\r\n                        <pre>{detail.weekday}  {detail.time}  {detail.court}</pre>\r\n                      </li>\r\n                    </div>\r\n                  ))\r\n                }\r\n              </ul>\r\n\r\n              <div className=\"form-group\">\r\n                <button className=\"Refund__submit\" type=\"submit\">\r\n                  Submit\r\n         </button>\r\n              </div>\r\n\r\n              <CheckButton\r\n                className=\"\"\r\n                style={{ display: \"none\" }}\r\n                ref={c => {\r\n                  this.checkBtn = c\r\n                }}\r\n              >\r\n\r\n              </CheckButton>\r\n            </Form>\r\n          </div>\r\n        }\r\n\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nexport default CreateForm\r\n\r\n"]},"metadata":{},"sourceType":"module"}