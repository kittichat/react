{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\src\\\\booking\\\\GroupBooking\\\\groupBookingModal\\\\CreateForm.js\";\nimport React from 'react';\nimport CheckButton from \"react-validation/build/button\";\nimport Form from \"react-validation/build/form\";\nimport { isEmail } from 'validator';\nimport Input from 'react-validation/build/input'; // import BookingService from '../../services/booking_service'\n\nimport GroupBooking from '../../../services/groupBooking_service'; // import \"../../css/CreateForm.css\"\n\nconst required = value => {\n  if (!value) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 7\n      }\n    }, \"This field is required!\");\n  }\n};\n\nconst vemail = value => {\n  if (!isEmail(value)) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 7\n      }\n    }, \"This is not a valid email;\");\n  }\n};\n\nconst name = value => {\n  if (value.length === 0 || value.length > 40) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 7\n      }\n    }, \"please fill in your name\");\n  }\n};\n\nconst phone = phoneno => {\n  // const check = /^\\d{10}$/;\n  if (phoneno.length === 0 || phoneno.length > 10) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }\n    }, \"please fill in your phone number\");\n  }\n};\n\nclass CreateForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bookingDetail2: [],\n      bookingDetail3: [],\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      member: false,\n      isSubmit: false,\n      uuid: undefined,\n      isSuccess: false,\n      price: {},\n      date: undefined\n    };\n    this.bookingInformation = this.bookingInformation.bind(this);\n    this.handleCreate = this.handleCreate.bind(this);\n    this.memberCheck = this.memberCheck.bind(this);\n    this.bookingVerfify = this.bookingVerfify.bind(this);\n  }\n\n  componentDidMount() {\n    this.bookingInformation();\n    this.memberCheck();\n  }\n\n  memberCheck() {\n    // let user = AuthService.getCurrentUser()\n    let user = document.cookie;\n\n    if (user) {\n      this.setState({\n        member: true\n      });\n    }\n  }\n\n  bookingInformation() {\n    this.setState({\n      bookingDetail2: this.props.bookingDetail,\n      bookingDetail3: this.props.bookingDetail3,\n      date: this.props.date\n    });\n  } // **********************************************************************\n\n\n  handleCreate(e) {\n    e.preventDefault();\n    this.form.validateAll();\n\n    if (this.checkBtn.context._errors.length === 0) {\n      GroupBooking.CourtBooking(this.state.bookingDetail3, this.state.date.year_month // localStorage.getItem(\"date2\"),\n      ).then(response => {\n        if (response.data.success == false) {\n          window.alert(\"Sorry, please check stage again\");\n          window.location.reload();\n        }\n\n        this.setState({\n          message: response.data.message,\n          uuid: response.data.bookingid,\n          // change this line \n          price: response.data.price,\n          isSubmit: true\n        });\n      }, error => {\n        const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n        this.setState({\n          message: resMessage\n        });\n      });\n    }\n  }\n\n  bookingVerfify(e) {\n    e.preventDefault();\n    this.form.validateAll();\n    this.setState({\n      Successful: false\n    });\n\n    if (this.checkBtn.context._errors.length === 0) {\n      GroupBooking.BookingVerify(this.state.uuid).then(response => {\n        this.setState({\n          message: response.data.message // isSuccess:true,\n          // Successful: true\n\n        });\n        window.location.reload();\n        window.alert(\"Your booking is Successful\");\n      }, error => {\n        const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n        this.setState({\n          // successful: false,\n          message: resMessage\n        });\n      });\n    }\n  }\n\n  render() {\n    const {\n      isSubmit\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 7\n      }\n    }, isSubmit ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.bookingVerfify,\n      ref: c => {\n        this.form = c;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 15\n      }\n    }, \"Please sends your receipt to the admin through line\"), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 15\n      }\n    }, \"Thank you\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 15\n      }\n    }, \"Total price\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 15\n      }\n    }, \"Normal price&nbsp&nbsp&nbsp\", this.state.price.normal_price), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 15\n      }\n    }, \"Discount        \"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 15\n      }\n    }, \"                \", this.state.price.discount_time), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 15\n      }\n    }, \"                \", this.state.price.discouht_group), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 15\n      }\n    }, \"Final\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 15\n      }\n    }, \"                \", this.state.price.pay), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"form-control btn btn-primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 17\n      }\n    }, \"Verify\")), /*#__PURE__*/React.createElement(CheckButton, {\n      className: \"\",\n      style: {\n        display: \"none\"\n      },\n      ref: c => {\n        this.checkBtn = c;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 15\n      }\n    }))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"list_row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleCreate,\n      ref: c => {\n        this.form = c;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 15\n      }\n    }, \"Booking Details\"), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"ul__booking\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 15\n      }\n    }, this.state.bookingDetail2 && this.state.bookingDetail2.map(detail => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 21\n      }\n    }, detail.dayTemp, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"li__booking\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 23\n      }\n    }, detail.day, \" \", detail.time, \"  \", detail.court)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"Booking__submit\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 17\n      }\n    }, \"Submit\")), /*#__PURE__*/React.createElement(CheckButton, {\n      className: \"\",\n      style: {\n        display: \"none\"\n      },\n      ref: c => {\n        this.checkBtn = c;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 15\n      }\n    }))));\n  }\n\n}\n\nexport default CreateForm;","map":{"version":3,"sources":["C:/Users/pentester/react/project/project3/src/booking/GroupBooking/groupBookingModal/CreateForm.js"],"names":["React","CheckButton","Form","isEmail","Input","GroupBooking","required","value","vemail","name","length","phone","phoneno","CreateForm","Component","constructor","props","state","bookingDetail2","bookingDetail3","email","member","isSubmit","uuid","undefined","isSuccess","price","date","bookingInformation","bind","handleCreate","memberCheck","bookingVerfify","componentDidMount","user","document","cookie","setState","bookingDetail","e","preventDefault","form","validateAll","checkBtn","context","_errors","CourtBooking","year_month","then","response","data","success","window","alert","location","reload","message","bookingid","error","resMessage","toString","Successful","BookingVerify","render","c","normal_price","discount_time","discouht_group","pay","display","map","detail","dayTemp","day","time","court"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport CheckButton from \"react-validation/build/button\"\r\nimport Form from \"react-validation/build/form\"\r\nimport { isEmail } from 'validator'\r\nimport Input from 'react-validation/build/input'\r\n\r\n// import BookingService from '../../services/booking_service'\r\nimport GroupBooking from '../../../services/groupBooking_service'\r\n\r\n\r\n// import \"../../css/CreateForm.css\"\r\n\r\nconst required = value => {\r\n  if (!value) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        This field is required!\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst vemail = value => {\r\n  if (!isEmail(value)) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        This is not a valid email;\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst name = value => {\r\n  if (value.length === 0 || value.length > 40) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        please fill in your name\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst phone = phoneno => {\r\n  // const check = /^\\d{10}$/;\r\n  if (phoneno.length === 0 || phoneno.length > 10) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        please fill in your phone number\r\n      </div>\r\n    )\r\n  }\r\n}\r\nclass CreateForm extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      bookingDetail2: [],\r\n      bookingDetail3: [],\r\n      name: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n      member: false,\r\n      isSubmit: false,\r\n      uuid: undefined,\r\n      isSuccess: false,\r\n      price: {},\r\n      date: undefined,\r\n\r\n    }\r\n\r\n    this.bookingInformation = this.bookingInformation.bind(this)\r\n    this.handleCreate = this.handleCreate.bind(this)\r\n    this.memberCheck = this.memberCheck.bind(this)\r\n    this.bookingVerfify = this.bookingVerfify.bind(this)\r\n  }\r\n\r\n\r\n\r\n  componentDidMount() {\r\n\r\n    this.bookingInformation();\r\n    this.memberCheck()\r\n\r\n  }\r\n\r\n  memberCheck() {\r\n    // let user = AuthService.getCurrentUser()\r\n    let user = document.cookie\r\n    if (user) {\r\n      this.setState({\r\n        member: true\r\n      })\r\n    }\r\n  }\r\n\r\n  bookingInformation() {\r\n    this.setState({\r\n      bookingDetail2: this.props.bookingDetail,\r\n      bookingDetail3: this.props.bookingDetail3,\r\n      date: this.props.date,\r\n    })\r\n  }\r\n\r\n  // **********************************************************************\r\n  handleCreate(e) {\r\n    e.preventDefault()\r\n    this.form.validateAll();\r\n\r\n\r\n    if (this.checkBtn.context._errors.length === 0) {\r\n      GroupBooking.CourtBooking(\r\n        this.state.bookingDetail3,\r\n        this.state.date.year_month\r\n        // localStorage.getItem(\"date2\"),\r\n      )\r\n        .then(\r\n          response => {\r\n            if (response.data.success == false) {\r\n              window.alert(\"Sorry, please check stage again\")\r\n              window.location.reload()\r\n            }\r\n            this.setState({\r\n              message: response.data.message,\r\n              uuid: response.data.bookingid, // change this line \r\n              price: response.data.price,\r\n              isSubmit: true,\r\n\r\n            })\r\n          },\r\n          error => {\r\n            const resMessage =\r\n              (error.response &&\r\n                error.response.data &&\r\n                error.response.data.message) ||\r\n              error.message ||\r\n              error.toString();\r\n\r\n            this.setState({\r\n              message: resMessage\r\n            })\r\n          }\r\n        )\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n  bookingVerfify(e) {\r\n    e.preventDefault()\r\n    this.form.validateAll();\r\n\r\n    this.setState({\r\n      Successful: false\r\n    })\r\n\r\n    if (this.checkBtn.context._errors.length === 0) {\r\n      GroupBooking.BookingVerify(\r\n        this.state.uuid,\r\n      )\r\n        .then(\r\n          response => {\r\n            this.setState({\r\n              message: response.data.message,\r\n              // isSuccess:true,\r\n              // Successful: true\r\n            })\r\n            window.location.reload()\r\n            window.alert(\"Your booking is Successful\")\r\n          },\r\n          error => {\r\n            const resMessage =\r\n              (error.response &&\r\n                error.response.data &&\r\n                error.response.data.message) ||\r\n              error.message ||\r\n              error.toString();\r\n\r\n            this.setState({\r\n              // successful: false,\r\n              message: resMessage\r\n            })\r\n          }\r\n        )\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n  render() {\r\n    const { isSubmit } = this.state\r\n    return (\r\n      <div>\r\n        { isSubmit ?\r\n          <div>\r\n            <Form\r\n              onSubmit={this.bookingVerfify}\r\n              ref={c => {\r\n                this.form = c\r\n              }}\r\n\r\n            >\r\n              {/* I think we should should some qr code for tranfers the money */}\r\n              <h1>Please sends your receipt to the admin through line</h1>\r\n              <h2>Thank you</h2>\r\n\r\n              <h1>Total price</h1>\r\n              <h1>Normal price&nbsp&nbsp&nbsp{this.state.price.normal_price}</h1>\r\n              <h1>Discount        </h1>\r\n              <h1>                {this.state.price.discount_time}</h1>\r\n              <h1>                {this.state.price.discouht_group}</h1>\r\n              <h1>Final</h1>\r\n              <h1>                {this.state.price.pay}</h1>\r\n              <div className=\"form-group\">\r\n                <button className=\"form-control btn btn-primary\" type=\"submit\">\r\n                  Verify\r\n         </button>\r\n              </div>\r\n\r\n              <CheckButton\r\n                className=\"\"\r\n                style={{ display: \"none\" }}\r\n                ref={c => {\r\n                  this.checkBtn = c\r\n                }}\r\n              >\r\n\r\n              </CheckButton>\r\n\r\n            </Form>\r\n\r\n          </div>\r\n\r\n          :\r\n          <div className=\"list_row\">\r\n            <Form\r\n              onSubmit={this.handleCreate}\r\n              ref={c => {\r\n                this.form = c\r\n              }}\r\n\r\n            >\r\n\r\n              <h1>Booking Details</h1>\r\n\r\n              <ul\r\n                className=\"ul__booking\"\r\n              >\r\n                {this.state.bookingDetail2 &&\r\n                  this.state.bookingDetail2.map(detail => (\r\n                    <div>\r\n                      {detail.dayTemp}\r\n                      <li\r\n                        className=\"li__booking\"\r\n                      >\r\n                        {/* {detail.courtandTime}   */}\r\n                        {detail.day} {detail.time}  {detail.court}\r\n                        {/* {detail.dayTemp} */}\r\n                      </li>\r\n                    </div>\r\n                  ))\r\n                }\r\n              </ul>\r\n\r\n              <div className=\"form-group\">\r\n                <button className=\"Booking__submit\" type=\"submit\">\r\n                  Submit\r\n         </button>\r\n              </div>\r\n\r\n              <CheckButton\r\n                className=\"\"\r\n                style={{ display: \"none\" }}\r\n                ref={c => {\r\n                  this.checkBtn = c\r\n                }}\r\n              >\r\n\r\n              </CheckButton>\r\n            </Form>\r\n          </div>\r\n        }\r\n\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nexport default CreateForm\r\n\r\n"]},"metadata":{},"sourceType":"module"}