{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{useState,useEffect}from'react';import{Link}from\"react-router-dom\";import CheckButton from\"react-validation/build/button\";import Form from\"react-validation/build/form\";import Input from'react-validation/build/input';import Memberlist from'../../services/memberlist_service';import groupService from'../../services/groupservices';import createGroup from'../../services/createGroup';import'../../css/CreateFormGroup.css';var required=function required(value){if(!value){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",role:\"alert\"},\"This field is required!\");}};var CreateFormGroup=/*#__PURE__*/function(_React$Component){_inherits(CreateFormGroup,_React$Component);var _super=_createSuper(CreateFormGroup);function CreateFormGroup(props){var _this;_classCallCheck(this,CreateFormGroup);_this=_super.call(this,props);_this.state={Listofmember:[],Successful:false,createGroup:[],arr:[],name:\"\"};_this.retrieveAllmember=_this.retrieveAllmember.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleCreate=_this.handleCreate.bind(_assertThisInitialized(_this));_this.onChangeName=_this.onChangeName.bind(_assertThisInitialized(_this));return _this;}_createClass(CreateFormGroup,[{key:\"onChangeName\",value:function onChangeName(e){this.setState({name:e.target.value});}},{key:\"componentDidMount\",value:function componentDidMount(){this.retrieveAllmember();}},{key:\"retrieveAllmember\",value:function retrieveAllmember(){var _this2=this;Memberlist.getAll().then(function(response){_this2.setState({Listofmember:response.data});console.log(\"data from an api\");console.log(response.data.message);}).catch(function(e){console.log(e);});}},{key:\"handleCreate\",value:function handleCreate(e){var _this3=this;e.preventDefault();this.form.validateAll();if(this.checkBtn.context._errors.length===0){createGroup.create(this.state.arr,this.state.name).then(function(response){_this3.setState({message:response.data.message,Successful:true});window.location.reload();},function(error){var resMessage=error.response&&error.response.data&&error.response.data.message||error.message||error.toString();_this3.setState({successful:false,message:resMessage});if(error.response.data.msg==\"Can not create group because you are header in another group\"){window.alert(\"Sorry, The web application not allowed header to create group\");window.location.reload();}});}}},{key:\"handleChange\",value:function handleChange(virtualid){var _this4=this;this.state.Listofmember.map(function(member){if(member.virtualid===virtualid){if(_this4.state.createGroup.includes(member.virtualid)===false){_this4.state.createGroup.push(member.virtualid);}else{var position=_this4.state.createGroup.indexOf(member.username);_this4.state.createGroup.splice(position,1);}}});this.setState({arr:this.state.createGroup});}},{key:\"render\",value:function render(){var _this5=this;console.log(\"crew was here\");console.log(this.state.createGroup);console.log(this.state.arr);var Listofmember=this.state.Listofmember;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleCreate,ref:function ref(c){_this5.form=c;}},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"Group__label\"},\"Group Name\"),/*#__PURE__*/React.createElement(Input,{className:\"Groupname\",id:\"name\",onChange:this.onChangeName,value:this.state.name,validations:[required]})),/*#__PURE__*/React.createElement(\"ul\",{className:\"list-group\"},Listofmember&&Listofmember.map(function(group,index){return/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\"// checked = {item.completed}\n,onChange:function onChange(){return _this5.handleChange(group.virtualid);}}),group.first_name);})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"button\",{className:\"Group__submit\",type:\"submit\"},\"Submit\")),/*#__PURE__*/React.createElement(CheckButton,{className:\"\",style:{display:\"none\"},ref:function ref(c){_this5.checkBtn=c;}})));}}]);return CreateFormGroup;}(React.Component);export default CreateFormGroup;","map":{"version":3,"sources":["C:/Users/pentester/react/project/project3/src/booking/group/CreateFormGroup.js"],"names":["React","useState","useEffect","Link","CheckButton","Form","Input","Memberlist","groupService","createGroup","required","value","CreateFormGroup","props","state","Listofmember","Successful","arr","name","retrieveAllmember","bind","handleChange","handleCreate","onChangeName","e","setState","target","getAll","then","response","data","console","log","message","catch","preventDefault","form","validateAll","checkBtn","context","_errors","length","create","window","location","reload","error","resMessage","toString","successful","msg","alert","virtualid","map","member","includes","push","position","indexOf","username","splice","c","group","index","first_name","display","Component"],"mappings":"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","sourcesContent":["\r\nimport React , {useState, useEffect} from 'react'\r\nimport { Link } from \"react-router-dom\"\r\nimport CheckButton from \"react-validation/build/button\"\r\nimport Form from \"react-validation/build/form\"\r\nimport Input from 'react-validation/build/input'\r\n\r\nimport Memberlist from '../../services/memberlist_service'\r\nimport groupService from '../../services/groupservices'\r\nimport createGroup from '../../services/createGroup'\r\n\r\nimport '../../css/CreateFormGroup.css'\r\n\r\n  const required = value => {\r\n    if (!value){\r\n      return (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          This field is required!\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n  \r\n\r\n class CreateFormGroup extends React.Component {\r\n   constructor(props){\r\n     super(props)\r\n     this.state =  {\r\n       Listofmember : [],\r\n       Successful : false,\r\n       createGroup : [],\r\n       arr : [],\r\n       name:\"\",\r\n     }\r\n\r\n     this.retrieveAllmember = this.retrieveAllmember.bind(this)\r\n     this.handleChange = this.handleChange.bind(this)\r\n     this.handleCreate = this.handleCreate.bind(this)\r\n     this.onChangeName = this.onChangeName.bind(this)\r\n   }\r\n\r\n    onChangeName(e){\r\n      this.setState({\r\n        name : e.target.value\r\n      })\r\n    }\r\n\r\n    componentDidMount(){\r\n      this.retrieveAllmember()\r\n    }\r\n\r\n\r\n    retrieveAllmember(){\r\n      Memberlist.getAll()\r\n            .then(response => {\r\n                this.setState({\r\n                  Listofmember : response.data\r\n                })\r\n\r\n                console.log(\"data from an api\")\r\n                console.log(response.data.message)\r\n            },\r\n            )\r\n            .catch(e => {\r\n                console.log(e)\r\n            })\r\n\r\n    }\r\n\r\n    handleCreate(e){\r\n      e.preventDefault()\r\n      this.form.validateAll()\r\n\r\n      if(this.checkBtn.context._errors.length === 0){\r\n        createGroup.create(\r\n          this.state.arr,\r\n          this.state.name,\r\n          )\r\n        .then(\r\n          response => {\r\n            this.setState({\r\n              message: response.data.message,\r\n              Successful: true\r\n            })\r\n            window.location.reload()\r\n          },\r\n          error => {\r\n            const resMessage = \r\n            (error.response && \r\n              error.response.data &&\r\n              error.response.data.message) ||\r\n              error.message ||\r\n              error.toString();\r\n\r\n              this.setState({\r\n                successful: false,\r\n                message: resMessage\r\n              })\r\n              if(error.response.data.msg == \"Can not create group because you are header in another group\"){\r\n                window.alert(\"Sorry, The web application not allowed header to create group\")\r\n                window.location.reload()\r\n              }\r\n          }\r\n        )\r\n      }\r\n\r\n\r\n    }\r\n\r\n    \r\n  handleChange(virtualid){\r\n      this.state.Listofmember.map(member => {\r\n        if(member.virtualid === virtualid){\r\n          if(this.state.createGroup.includes(member.virtualid) === false){\r\n            this.state.createGroup.push(\r\n              member.virtualid,\r\n            )\r\n        }else{\r\n          let position = this.state.createGroup.indexOf(member.username)\r\n          this.state.createGroup.splice(position,1)\r\n        }\r\n        }\r\n      })\r\n\r\n      this.setState( {\r\n        arr : this.state.createGroup\r\n      })\r\n  }\r\n  \r\n\r\n  render(){\r\n\r\n    console.log(\"crew was here\")\r\n  console.log(this.state.createGroup)\r\n  console.log(this.state.arr)\r\n\r\n    const {Listofmember} = this.state\r\n  return (\r\n    <div >\r\n      <Form \r\n        onSubmit={this.handleCreate}\r\n        ref = {c => {\r\n          this.form = c\r\n        }}\r\n      \r\n      >\r\n       <div className=\"form-group\">\r\n\r\n         <label className=\"Group__label\">Group Name</label>\r\n\r\n         <Input \r\n           className=\"Groupname\"\r\n           id=\"name\" \r\n           onChange = {this.onChangeName}\r\n           value={this.state.name}\r\n           validations={[required]}\r\n           />\r\n       </div>\r\n      \r\n       <ul className=\"list-group\" >\r\n            {Listofmember &&\r\n                Listofmember.map((group, index) => (\r\n                        < li \r\n                            \r\n                            >\r\n             \r\n                                <input \r\n                                  type= \"checkbox\"\r\n                                  // checked = {item.completed}\r\n                                  onChange={() => this.handleChange(group.virtualid)}\r\n                                />\r\n                                {group.first_name}\r\n                                \r\n                        </li>\r\n                   \r\n                ))}\r\n        </ul>\r\n\r\n\r\n        <div className=\"form-group\">\r\n         <button className=\"Group__submit\" type=\"submit\">\r\n           Submit\r\n         </button>\r\n        </div>\r\n\r\n\r\n       <CheckButton\r\n        className=\"\"\r\n        style={{display:\"none\"}}\r\n        ref={c => {\r\n          this.checkBtn = c\r\n        }}\r\n       >\r\n\r\n       </CheckButton>\r\n      </Form>\r\n    </div>\r\n  )\r\n      }\r\n}\r\n\r\nexport default CreateFormGroup\r\n"]},"metadata":{},"sourceType":"module"}