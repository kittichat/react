{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\src\\\\booking\\\\Groupdetail.js\";\nimport React, { useState, useEffect } from 'react';\nimport GroupList from \"../services/groupservices\";\nimport Grouptable from './Grouptable';\nimport { useTable } from 'react-table';\nimport '../css/Groupdetail.css';\nimport Data from '../api/group__members';\nimport button from 'react-validation/build/button';\nimport { ContactSupportOutlined } from '@material-ui/icons';\n\nfunction Groupdetail(props) {\n  const [CurrentGroup, setCurrentGroup] = useState(undefined); // match with table\n\n  const [presentGroup, setPresentGroup] = useState(undefined);\n  const [members, setMembers] = useState([]);\n  const [authority, setAuthority] = useState(0);\n  const [role, setRole] = useState(undefined);\n  const [dataTerm, setData] = useState([]);\n  const [isPrivacy, setPrivacy] = useState(false);\n  const [joingroup, setJoin] = useState(undefined);\n  const [dataApi, setApi] = useState([]);\n\n  const getGroup = name => {\n    GroupList.get(name).then(response => {\n      setCurrentGroup(response.data);\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  useEffect(() => {\n    const group = GroupList.getCurrentGroup();\n    setPresentGroup(GroupList.getCurrentGroup());\n    GroupList.getMembers(group).then(response => {\n      console.log(response.data.detail.member);\n      setApi(response.data.detail.member); // handleMembers(response.data.member)\n\n      authorityCheck(response.data.role);\n      setJoin(response.data.group_name);\n    });\n  }, []); // console.log(\"this is members\")\n  // console.log(members)\n  // console.log(\"this is dataTerm\")\n  // console.log(dataTerm)\n  // console.log(Data)\n  // const handleMembers = (members) => {\n  //   let count = 0\n  //   const dataTemp = []\n  //   for (let i in members) {\n  //     console.log(\"i information\")\n  //     console.log(members[i])\n  //     dataTemp.push({\n  //       sequence: count,\n  //       member: members[i]\n  //     })\n  //     count++\n  //   }\n  //   return setData(\n  //     dataTemp\n  //   )\n  // }\n\n  const authorityCheck = role => {\n    if (role == \"header\") {\n      setAuthority(0);\n    } else if (role == \"member\") {\n      setAuthority(1);\n    } else if (role == \"wating\") {\n      setAuthority(2);\n    } else {\n      setAuthority(3); //this case status is free\n    }\n\n    console.log(\"the authority is \", authority);\n    console.log(\"this is role \", role);\n    console.log(typeof role);\n  }; // ***************************************************************************\n  // Services is here\n\n\n  const handleJoin = () => {\n    GroupList.joinGroup(joingroup).then(window.alert(\"Your request is successful\"), window.location.reload());\n    console.log(joingroup);\n  };\n\n  const handleLeave = () => {\n    GroupList.leaveGroup().then(window.location.reload());\n  };\n\n  const handleDelete = cell => {};\n\n  const handleCancel = () => {\n    GroupList.cancel().then(window.location.reload());\n  };\n\n  const handlePrivacy = status => {\n    if (status) {//send request to server that want to set group to public\n    } else {//send request to server that want to set group to private\n      }\n\n    setPrivacy(!status);\n  }; // services\n  // ***************************************************************************\n\n\n  const header = () => {\n    return isPrivacy ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"privacy__on\",\n      onClick: () => {\n        handlePrivacy(false);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }\n    }, \"ON\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: \"privacy__off\",\n      onClick: () => handlePrivacy(true),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }\n    }, \"OFF\");\n  };\n\n  const member = () => {\n    return /*#__PURE__*/React.createElement(\"button\", {\n      className: \"member__leave\",\n      onClick: () => handleLeave(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 12\n      }\n    }, \"Leave\");\n  };\n\n  const free = () => {\n    return /*#__PURE__*/React.createElement(\"button\", {\n      className: \"free__join\",\n      onClick: () => handleJoin(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 12\n      }\n    }, \"Join\");\n  };\n\n  const wating = () => {\n    return /*#__PURE__*/React.createElement(\"button\", {\n      className: \"wating__cancel\",\n      onClick: () => handleCancel(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 12\n      }\n    }, \"Cancel\");\n  };\n\n  const handleRole = authority => {\n    switch (authority) {\n      case 0:\n        // return console.log(\"this is header\")\n        return header();\n\n      case 1:\n        return member();\n\n      case 2:\n        return wating();\n\n      case 3:\n        return free();\n\n      default:\n        break;\n    }\n  };\n\n  const columns = React.useMemo(() => [{\n    Header: \"Numbers\",\n    accessor: \"sequence\"\n  }, {\n    Header: \"Members\",\n    accessor: \"member\"\n  }, {\n    Header: \"Delete\",\n    accessor: \"manage\"\n  }], []);\n  const data = React.useMemo(() => dataApi, []);\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow\n  } = useTable({\n    columns,\n    data\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"group__detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 11\n    }\n  }, \"This page intended to show the detail of each group about user and groups information\")), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }\n  }, presentGroup), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }\n  }, \"ok\"), authority == 0 ? /*#__PURE__*/React.createElement(\"table\", Object.assign({}, getTableProps(), {\n    style: {\n      border: 'solid 1px blue'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 11\n    }\n  }, headerGroups.map(headerGroup => /*#__PURE__*/React.createElement(\"tr\", Object.assign({}, headerGroup.getHeaderGroupProps(), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 15\n    }\n  }), headerGroup.headers.map(column => /*#__PURE__*/React.createElement(\"th\", Object.assign({}, column.getHeaderProps(), {\n    style: {\n      borderBottom: 'solid 3px red',\n      background: 'aliceblue',\n      color: 'black',\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 19\n    }\n  }), column.render('Header')))))), /*#__PURE__*/React.createElement(\"tbody\", Object.assign({}, getTableBodyProps(), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 11\n    }\n  }), rows.map(row => {\n    prepareRow(row);\n    return /*#__PURE__*/React.createElement(\"tr\", Object.assign({}, row.getRowProps(), {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 17\n      }\n    }), row.cells.map(cell => {\n      return /*#__PURE__*/React.createElement(\"td\", Object.assign({}, cell.getCellProps(), {\n        style: {\n          padding: '10px',\n          border: 'solid 1px gray',\n          background: 'papayawhip'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 23\n        }\n      }), typeof cell.value == \"boolean\" && authority == 0 ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => alert(cell.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 29\n        }\n      }, \"test\")) : cell.render('Cell'));\n    }));\n  }))) : /*#__PURE__*/React.createElement(Grouptable // members={}\n  , {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"role_checks\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }\n  }, handleRole(authority), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 9\n    }\n  }, authority)));\n}\n\nexport default Groupdetail;","map":{"version":3,"sources":["C:/Users/pentester/react/project/project3/src/booking/Groupdetail.js"],"names":["React","useState","useEffect","GroupList","Grouptable","useTable","Data","button","ContactSupportOutlined","Groupdetail","props","CurrentGroup","setCurrentGroup","undefined","presentGroup","setPresentGroup","members","setMembers","authority","setAuthority","role","setRole","dataTerm","setData","isPrivacy","setPrivacy","joingroup","setJoin","dataApi","setApi","getGroup","name","get","then","response","data","console","log","catch","e","group","getCurrentGroup","getMembers","detail","member","authorityCheck","group_name","handleJoin","joinGroup","window","alert","location","reload","handleLeave","leaveGroup","handleDelete","cell","handleCancel","cancel","handlePrivacy","status","header","free","wating","handleRole","columns","useMemo","Header","accessor","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","border","map","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","borderBottom","background","color","fontWeight","render","row","getRowProps","cells","getCellProps","padding","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\n\r\nimport GroupList from \"../services/groupservices\"\r\n\r\nimport Grouptable from './Grouptable'\r\nimport { useTable } from 'react-table'\r\n\r\nimport '../css/Groupdetail.css'\r\n\r\nimport Data from '../api/group__members'\r\n\r\nimport button from 'react-validation/build/button'\r\nimport { ContactSupportOutlined } from '@material-ui/icons'\r\n\r\nfunction Groupdetail(props) {\r\n\r\n  const [CurrentGroup, setCurrentGroup] = useState(undefined)  // match with table\r\n  const [presentGroup, setPresentGroup] = useState(undefined)\r\n  const [members, setMembers] = useState([])\r\n  const [authority, setAuthority] = useState(0)\r\n  const [role, setRole] = useState(undefined)\r\n  const [dataTerm, setData] = useState([])\r\n  const [isPrivacy, setPrivacy] = useState(false)\r\n  const [joingroup, setJoin] = useState(undefined)\r\n  const [dataApi,setApi] = useState([])\r\n\r\n  const getGroup = name => {\r\n    GroupList.get(name)\r\n      .then(response => {\r\n        setCurrentGroup(response.data)\r\n        console.log(response.data)\r\n      })\r\n      .catch(e => {\r\n        console.log(e)\r\n      })\r\n  }\r\n\r\n  \r\n  useEffect(() => {\r\n\r\n    const group = GroupList.getCurrentGroup()\r\n    setPresentGroup(\r\n      GroupList.getCurrentGroup()\r\n    )\r\n\r\n    GroupList.getMembers(group)\r\n      .then(response => {\r\n        console.log(response.data.detail.member)\r\n        setApi(response.data.detail.member)\r\n        // handleMembers(response.data.member)\r\n        authorityCheck(response.data.role)\r\n        setJoin(response.data.group_name)\r\n\r\n      })\r\n\r\n  }, [])\r\n  // console.log(\"this is members\")\r\n  // console.log(members)\r\n  // console.log(\"this is dataTerm\")\r\n  // console.log(dataTerm)\r\n  // console.log(Data)\r\n\r\n  // const handleMembers = (members) => {\r\n  //   let count = 0\r\n  //   const dataTemp = []\r\n  //   for (let i in members) {\r\n  //     console.log(\"i information\")\r\n  //     console.log(members[i])\r\n  //     dataTemp.push({\r\n  //       sequence: count,\r\n  //       member: members[i]\r\n  //     })\r\n  //     count++\r\n  //   }\r\n  //   return setData(\r\n  //     dataTemp\r\n  //   )\r\n  // }\r\n\r\n  const authorityCheck = (role) => {\r\n    if (role == \"header\") {\r\n      setAuthority(0)\r\n    } else if (role == \"member\") {\r\n      setAuthority(1)\r\n    } else if (role == \"wating\") {\r\n      setAuthority(2)\r\n    } else {\r\n      setAuthority(3) //this case status is free\r\n    }\r\n    console.log(\"the authority is \", authority)\r\n    console.log(\"this is role \", role)\r\n    console.log(typeof (role))\r\n  }\r\n\r\n  // ***************************************************************************\r\n  // Services is here\r\n\r\n  const handleJoin = () => {\r\n\r\n    GroupList.joinGroup(joingroup)\r\n      .then(\r\n        window.alert(\"Your request is successful\"),\r\n        window.location.reload()\r\n      )\r\n    console.log(joingroup)\r\n  }\r\n\r\n  const handleLeave = () => {\r\n    GroupList.leaveGroup()\r\n      .then(\r\n        window.location.reload()\r\n      )\r\n  }\r\n\r\n  const handleDelete = (cell) => {\r\n\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    GroupList.cancel()\r\n      .then(\r\n        window.location.reload()\r\n      )\r\n  }\r\n\r\n  const handlePrivacy = (status) => {\r\n    if (status) {\r\n      //send request to server that want to set group to public\r\n    } else {\r\n      //send request to server that want to set group to private\r\n    }\r\n    setPrivacy(!status)\r\n  }\r\n\r\n  // services\r\n  // ***************************************************************************\r\n  const header = () => {\r\n    return (\r\n      isPrivacy ?\r\n        <button\r\n          className=\"privacy__on\"\r\n          onClick={() => { handlePrivacy(false) }}\r\n        >\r\n          ON\r\n          </button>\r\n        :\r\n        <button\r\n          className=\"privacy__off\"\r\n          onClick={() => handlePrivacy(true)}\r\n        >\r\n          OFF\r\n          </button>\r\n    )\r\n\r\n  }\r\n\r\n  const member = () => {\r\n    return <button\r\n      className=\"member__leave\"\r\n      onClick={() => handleLeave()}\r\n    >\r\n      Leave\r\n              </button>\r\n  }\r\n\r\n  const free = () => {\r\n    return <button\r\n      className=\"free__join\"\r\n      onClick={() => handleJoin()}\r\n    >\r\n      Join\r\n              </button>\r\n\r\n  }\r\n\r\n  const wating = () => {\r\n    return <button\r\n      className=\"wating__cancel\"\r\n      onClick={() => handleCancel()}\r\n\r\n    >\r\n      Cancel\r\n               </button>\r\n  }\r\n\r\n  const handleRole = (authority) => {\r\n    switch (authority) {\r\n      case 0:\r\n        // return console.log(\"this is header\")\r\n        return header();\r\n      case 1:\r\n        return member();\r\n      case 2:\r\n        return wating();\r\n      case 3:\r\n        return free();\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  const columns = React.useMemo(\r\n    () =>\r\n      [\r\n        {\r\n          Header: \"Numbers\",\r\n          accessor: \"sequence\"\r\n        },\r\n        {\r\n          Header: \"Members\",\r\n          accessor: \"member\"\r\n        },\r\n        {\r\n          Header: \"Delete\",\r\n          accessor: \"manage\"\r\n        }\r\n      ]\r\n    ,\r\n    []\r\n  )\r\n\r\n  const data = React.useMemo(() => dataApi, [])\r\n\r\n\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    rows,\r\n    prepareRow,\r\n  } = useTable({ columns, data })\r\n\r\n  return (\r\n    <div className=\"group__detail\">\r\n      {/* fetch all group data >> member , payment  */}\r\n      {/* follow makedata in showgroup by use reat-table */}\r\n      <h1><p>This page intended to show the detail of each group about\r\n      user and groups information\r\n                </p>\r\n      </h1>\r\n      {/* <h1>{props.nameOfGroup}</h1> */}\r\n      <h1>{presentGroup}</h1>\r\n      <h1>ok</h1>\r\n      {authority == 0\r\n        ?\r\n        <table {...getTableProps()} style={{ border: 'solid 1px blue' }}>\r\n          <thead>\r\n            {headerGroups.map(headerGroup => (\r\n              <tr {...headerGroup.getHeaderGroupProps()}>\r\n                {headerGroup.headers.map(column => (\r\n                  <th\r\n                    {...column.getHeaderProps()}\r\n                    style={{\r\n                      borderBottom: 'solid 3px red',\r\n                      background: 'aliceblue',\r\n                      color: 'black',\r\n                      fontWeight: 'bold',\r\n                    }}\r\n                  >\r\n                    {column.render('Header')}\r\n                  </th>\r\n                ))}\r\n              </tr>\r\n            ))}\r\n          </thead>\r\n          <tbody {...getTableBodyProps()}>\r\n            {rows.map(row => {\r\n              prepareRow(row)\r\n              return (\r\n                <tr {...row.getRowProps()}>\r\n                  {row.cells.map(cell => {\r\n                    return (\r\n                      <td\r\n                        {...cell.getCellProps()}\r\n                        style={{\r\n                          padding: '10px',\r\n                          border: 'solid 1px gray',\r\n                          background: 'papayawhip',\r\n                        }}\r\n                      >\r\n                        { typeof (cell.value) == \"boolean\" && authority == 0\r\n                          ?\r\n                          <div>\r\n                            <button onClick={() => alert(cell.value)}>test</button>\r\n                            {/* {setColumn(authority)} */}\r\n                          </div>\r\n                          :\r\n                          cell.render('Cell')\r\n                        }\r\n                      </td>\r\n                    )\r\n                  })}\r\n                </tr>\r\n              )\r\n            })}\r\n          </tbody>\r\n        </table>\r\n        :\r\n        <Grouptable \r\n            // members={}\r\n        />\r\n      }\r\n      <div className=\"role_checks\">\r\n        {handleRole(authority)}\r\n        <h1>{authority}</h1>\r\n\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Groupdetail\r\n"]},"metadata":{},"sourceType":"module"}