{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Link}from\"react-router-dom\";import Form from\"react-validation/build/form\";import Input from\"react-validation/build/input\";import CheckButton from\"react-validation/build/button\";import AuthService from\"../services/auth_service\";import'../css/Templogin.css';import PersonIcon from'@material-ui/icons/Person';import LockIcon from'@material-ui/icons/Lock';var required=function required(value){if(!value){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert ... \",role:\"alert\"},\"This field is required\");}};var Logintemp=/*#__PURE__*/function(_React$Component){_inherits(Logintemp,_React$Component);var _super=_createSuper(Logintemp);function Logintemp(props){var _this;_classCallCheck(this,Logintemp);_this=_super.call(this,props);_this.state={username:\"\",password:\"\",loading:false,message:\"\"};_this.handleLogin=_this.handleLogin.bind(_assertThisInitialized(_this));_this.onChangeUsername=_this.onChangeUsername.bind(_assertThisInitialized(_this));_this.onChangePassword=_this.onChangePassword.bind(_assertThisInitialized(_this));return _this;}_createClass(Logintemp,[{key:\"onChangeUsername\",value:function onChangeUsername(e){this.setState({username:e.target.value});}},{key:\"onChangePassword\",value:function onChangePassword(e){this.setState({password:e.target.value});}},{key:\"handleLogin\",value:function handleLogin(e){var _this2=this;e.preventDefault();this.setState({message:'',loading:true});if(this.checkBtn.context._errors.length===0){AuthService.login(this.state.username,this.state.password).then(function(){_this2.props.history.push(\"/profile\");window.location.reload();},function(error){var resMessage=error.response&&error.response.data&&error.response.data.message||error.message||error.toString();_this2.setState({loading:false,message:resMessage});window.alert(\"User not found\");window.location.reload();});}else{this.setState({loading:false});}}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"login__root\"},/*#__PURE__*/React.createElement(\"div\",{className:\"login__background\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"Login__part\"},/*#__PURE__*/React.createElement(\"div\",{className:\"Login__input\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"Login__header\"},\"Sign In\"),/*#__PURE__*/React.createElement(Form,{className:\"\",onSubmit:this.handleLogin,ref:function ref(c){_this3.form=c;}},/*#__PURE__*/React.createElement(\"div\",{className:\"Input__login\"},/*#__PURE__*/React.createElement(\"div\",{className:\"Input__type\"},/*#__PURE__*/React.createElement(PersonIcon,{className:\"Input__icon\"}),/*#__PURE__*/React.createElement(Input,{type:\"text\",placeholder:\"Username\",className:\"Input__input\",name:\"username\",value:this.state.username,onChange:this.onChangeUsername,validations:[required]})),/*#__PURE__*/React.createElement(\"div\",{className:\"Input__type\"},/*#__PURE__*/React.createElement(LockIcon,{className:\"Input__icon\"}),/*#__PURE__*/React.createElement(Input,{type:\"password\",placeholder:\"Password\",className:\"Input__input\",name:\"password\",value:this.state.password,onChange:this.onChangePassword,validations:[required]}))),/*#__PURE__*/React.createElement(\"button\",{className:\"Login__button\",type:\"submit\",disabled:this.state.loading},this.state.loading&&/*#__PURE__*/React.createElement(\"span\",{className:\"\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Login\")),/*#__PURE__*/React.createElement(CheckButton,{style:{display:\"none\"},ref:function ref(c){_this3.checkBtn=c;}}))),/*#__PURE__*/React.createElement(\"hr\",{className:\"Login__line\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"Login__regis\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Don't have a account\"),/*#__PURE__*/React.createElement(Link,{to:\"/register\"},\"Register Here!\"))));}}]);return Logintemp;}(React.Component);export default Logintemp;","map":{"version":3,"sources":["C:/Users/pentester/react/project/project3/src/authen/Logintemp.js"],"names":["React","Link","Form","Input","CheckButton","AuthService","PersonIcon","LockIcon","required","value","Logintemp","props","state","username","password","loading","message","handleLogin","bind","onChangeUsername","onChangePassword","e","setState","target","preventDefault","checkBtn","context","_errors","length","login","then","history","push","window","location","reload","error","resMessage","response","data","toString","alert","c","form","display","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Form from \"react-validation/build/form\"\r\nimport Input from \"react-validation/build/input\"\r\nimport CheckButton from \"react-validation/build/button\"\r\n\r\nimport AuthService from \"../services/auth_service\"\r\n\r\nimport '../css/Templogin.css'\r\n\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport LockIcon from '@material-ui/icons/Lock';\r\n\r\nconst required = value => {\r\n    if (!value) {\r\n        return (\r\n            <div className=\"alert ... \" role=\"alert\">\r\n                This field is required\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass Logintemp extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\",\r\n            loading: false,\r\n            message: \"\",\r\n        }\r\n        this.handleLogin = this.handleLogin.bind(this)\r\n        this.onChangeUsername = this.onChangeUsername.bind(this)\r\n        this.onChangePassword = this.onChangePassword.bind(this)\r\n\r\n    }\r\n\r\n    onChangeUsername(e) {\r\n        this.setState({\r\n            username: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangePassword(e) {\r\n        this.setState({\r\n            password: e.target.value\r\n        })\r\n    }\r\n\r\n    handleLogin(e) {\r\n        e.preventDefault();\r\n\r\n        this.setState({\r\n            message: '',\r\n            loading: true\r\n        });\r\n\r\n        if (this.checkBtn.context._errors.length === 0) {\r\n            AuthService.login(this.state.username, this.state.password).then(\r\n                () => {\r\n\r\n                    this.props.history.push(\"/profile\");\r\n                    window.location.reload();\r\n\r\n                },\r\n                error => {\r\n                    const resMessage =\r\n                        (error.response &&\r\n                            error.response.data &&\r\n                            error.response.data.message) ||\r\n                        error.message ||\r\n                        error.toString();\r\n\r\n                    this.setState({\r\n                        loading: false,\r\n                        message: resMessage\r\n                    });\r\n                    window.alert(\"User not found\");\r\n                    window.location.reload();\r\n\r\n                }\r\n            );\r\n        } else {\r\n            this.setState({\r\n                loading: false\r\n            });\r\n        }\r\n    }\r\n\r\n    render(){\r\n    return (\r\n        <div className=\"login__root\">\r\n            {/* <h1 className=\"login__text\">Login</h1> */}\r\n            <div className=\"login__background\"></div>\r\n             <div className=\"Login__part\">\r\n\r\n\r\n                    <div className=\"Login__input\">\r\n\r\n                        <h1 className=\"Login__header\">Sign In</h1>\r\n\r\n                        <Form\r\n                            className=\"\"\r\n                            onSubmit={this.handleLogin}\r\n                            ref={c => {\r\n                                this.form = c;\r\n                            }}\r\n                        >\r\n\r\n                            <div className=\"Input__login\">\r\n                                <div className=\"Input__type\">\r\n                                    <PersonIcon className=\"Input__icon\" />\r\n                                    <Input\r\n                                        type=\"text\"\r\n                                        placeholder=\"Username\"\r\n                                        className=\"Input__input\"\r\n                                        name=\"username\"\r\n                                        value={this.state.username}\r\n                                        onChange={this.onChangeUsername}\r\n                                        validations={[required]}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"Input__type\">\r\n                                    <LockIcon className=\"Input__icon\" />\r\n                                    <Input\r\n                                        type=\"password\"\r\n                                        placeholder=\"Password\"\r\n                                        className=\"Input__input\"\r\n                                        name=\"password\"\r\n                                        value={this.state.password}\r\n                                        onChange={this.onChangePassword}\r\n                                        validations={[required]}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <button\r\n                                className=\"Login__button\"\r\n                                type=\"submit\"\r\n                                disabled={this.state.loading}\r\n                            >\r\n                                {this.state.loading && (<span className=\"\" />)}\r\n                                <span>Login</span>\r\n                            </button>\r\n\r\n                            <CheckButton\r\n                                style={{ display: \"none\" }}\r\n                                ref={c => {\r\n                                    this.checkBtn = c;\r\n                                }}\r\n                            >\r\n\r\n                            </CheckButton>\r\n                        </Form>\r\n                  \r\n\r\n\r\n                        {/* <div className=\"Input__checkbox\">\r\n\r\n                            <input type=\"checkbox\" />\r\n                            <h4 className=\"Input__rememberme\">rememberme</h4>\r\n                            <Link className=\"Input__forgotpass\" to=\"https://google.com\">Forgot Password</Link>\r\n\r\n\r\n                        </div> */}\r\n\r\n\r\n                    </div>\r\n                    <hr className=\"Login__line\"></hr>\r\n                    <div className=\"Login__regis\">\r\n                        <h4>Don't have a account</h4>\r\n                        <Link to=\"/register\" >Register Here!</Link>\r\n                    </div>\r\n                </div>\r\n        </div>\r\n    )\r\n    }\r\n}\r\n\r\nexport default Logintemp\r\n"]},"metadata":{},"sourceType":"module"}