{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useState,useEffect}from'react';import styled from'styled-components';import{useExpanded,useTable}from'react-table';// import makeData from './makeData'\nimport Data from'../api/booking_data';import BookingService from'../services/booking_service';import'../css/Afterbooking.css';import{Container}from'./bookingModal/Container';var Styles=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 1rem;\\n  table {\\n    border-spacing: 0;\\n    border: 1px solid black;\\n    tr {\\n      :last-child {\\n        td {\\n          border-bottom: 0;\\n        }\\n      }\\n    }\\n    th ,\\n    td {\\n      margin: 0;\\n      padding: 1rem;\\n      border-bottom: 1px solid black;\\n      border-right: 1px solid black;\\n      :last-child {\\n        border-right: 0;\\n      }\\n    }\\n  }\\n  \"])));function Table(_ref){var columns=_ref.columns,data=_ref.data,arrRoot=_ref.arrRoot,setArr=_ref.setArr,ClearState=_ref.ClearState,isClear=_ref.isClear;// Use the state and functions returned from useTable to build your UI\n// becareful if array has some problem, just set arr value default to [0]\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),arr=_useState2[0],setArrState=_useState2[1];var CLear=function CLear(){setArrState([]);};var test=false;{isClear?test=true:test=false;}if(test){arr.splice(0);test=false;}//*************************************** */ \nvar bgforTime={background:\"white\"};var bgforTrue=function bgforTrue(cell){var x={// row:cell.row.index,\ntime:cell.row.values.time,column:cell.column.Header};for(var j in arr){var bgCheck=false;if(JSON.stringify(x)==JSON.stringify(arr[j])){bgCheck=true;break;}}if(bgCheck){return{background:\"green\"};}else{return{background:'white'};}};var bgforFalse={background:\"red\"};var bgCell=function bgCell(cell){if(cell.column.Header==\"time\"){return bgforTime;}else if(cell.value==true){return bgforTrue(cell);}else{return bgforFalse;}};var testClick=function testClick(cell){var x={//    row:cell.row.index,\ntime:cell.row.values.time,column:cell.column.Header};var sign=false;for(var i in arr){if(JSON.stringify(x)==JSON.stringify(arr[i])){var position=i;arr.splice(position,1);sign=true;console.log(\"remove\");console.log(\"position \"+position);{setArr({arr:arr});}break;}}//    }\nif(cell.value==true&&sign==false){arr.push(x);console.log(\"add\");{setArr({arr:arr});}}console.log(\"this is arr\");console.log(arr);console.log(\"this is arrRoot\");console.log(arrRoot);console.log(x);console.log(\"value \");console.log(cell.row.values.time);};var _useTable=useTable({columns:columns,data:data}),getTableProps=_useTable.getTableProps,getTableBodyProps=_useTable.getTableBodyProps,headerGroups=_useTable.headerGroups,rows=_useTable.rows,prepareRow=_useTable.prepareRow;// Render the UI for your table\nreturn/*#__PURE__*/React.createElement(\"table\",Object.assign({},getTableProps(),{className:\"Booking__table\"}),/*#__PURE__*/React.createElement(\"thead\",null,headerGroups.map(function(headerGroup){return/*#__PURE__*/React.createElement(\"tr\",headerGroup.getHeaderGroupProps(),headerGroup.headers.map(function(column){return/*#__PURE__*/React.createElement(\"th\",column.getHeaderProps(),column.render('Header'));}));})),/*#__PURE__*/React.createElement(\"tbody\",getTableBodyProps(),rows.map(function(row,i){prepareRow(row);return/*#__PURE__*/React.createElement(\"tr\",row.getRowProps(),row.cells.map(function(cell){return/*#__PURE__*/React.createElement(\"td\",Object.assign({},cell.getCellProps(),{style:bgCell(cell),onClick:function onClick(){testClick(cell);}}),cell.render('Cell'));}));})));}// }\nfunction Afterbooking(props){var _useState3=useState([0]),_useState4=_slicedToArray(_useState3,2),arrRoot=_useState4[0],setArr=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),dataTemp=_useState6[0],setDataTemp=_useState6[1];var _useState7=useState(undefined),_useState8=_slicedToArray(_useState7,2),apidata=_useState8[0],setApidata=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isClear=_useState10[0],setClear=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),columnApi=_useState12[0],setColumnApi=_useState12[1];useEffect(function(){BookingService.GetBookingInformation(localStorage.getItem(\"date\")).then(function(response){setDataTemp(response.data.status);//  setColumnApi(length(response.data.status[0]))\nlocalStorage.setItem(\"date2\",response.data.date);});columnSetting();},[]);var columnSetting=function columnSetting(){BookingService.GetBookingInformation(localStorage.getItem(\"date\")).then(function(response){var count=response.data.status[0];var count1=0;var col=1;var arrLocal=[{Header:\"time\",accessor:\"time\"}];var finalTemp=[];var test1=0;for(test1 in count){count1++;}console.log(\"count1\",count1);while(col<=count1-1){var temp={Header:\"Court\".concat(col),accessor:\"Court\".concat(col)};arrLocal.push(temp);col++;}//    setColumnApi(arrLocal)\nconsole.log(response.data.status);console.log(arrLocal);finalTemp.push({Header:\"All Courts\",columns:arrLocal});console.log(columnApi);setColumnApi(finalTemp);});};var columns=React.useMemo(function(){return[{Header:\"All courts\",// columns: [\n//     {Header:\"time\",accessor:\"time\"},\n//     {Header:\"Court1\",accessor:\"Court1\"},\n//     {Header:\"Court2\",accessor:\"Court2\"},                                            \n//     {Header:\"Court3\",accessor:\"Court3\"},   \n// ]\ncolumns:columnApi// use this when you want to use data api \n// columns: [\n//     {Header:\"time\",accessor:\"time\"},\n//     {Header:\"Court1\",accessor:\"court1\"},\n//     {Header:\"Court2\",accessor:\"court2\"},                                            \n//     {Header:\"Court3\",accessor:\"court3\"},                                            \n//     {Header:\"Court4\",accessor:\"court4\"},                                            \n//     {Header:\"Court5\",accessor:\"court5\"},                                            \n//     {Header:\"Court6\",accessor:\"court6\"},                                            \n//     {Header:\"Court7\",accessor:\"court7\"},                                            \n//     {Header:\"Court8\",accessor:\"court8\"},                                            \n//     {Header:\"Court9\",accessor:\"court9\"},                                            \n//     {Header:\"Court10\",accessor:\"court10\"},                        \n//     {Header:\"Court11\",accessor:\"court11\"},                        \n// ]\n}];},[]);// the problem that I cannot use data because when useEffect has set to dataTemp, data is not set too\n// const data = React.useMemo(() => Data, [])\n// console.log(data)\nconsole.log(dataTemp);console.log(\"this is arrRoot\");console.log(arrRoot);var triggerText='Booking';var onSubmit=function onSubmit(event){event.preventDefault(event);};// this part I try to create clear booking by callback from function table\nvar test=false;var ClearState=function ClearState(){setClear(!isClear);};console.log(\"this is isClear\");console.log(isClear);console.log(\"ColumnApi \",columnApi);return/*#__PURE__*/React.createElement(\"div\",{className:\"Afterbooking\"},/*#__PURE__*/React.createElement(\"div\",{className:\"userbooking__bg\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"userbookingRoot__bg\"},/*#__PURE__*/React.createElement(Styles,null,/*#__PURE__*/React.createElement(\"div\",{className:\"group1_table\"},/*#__PURE__*/React.createElement(Table,{className:\"group1_eachtable\",columns:columnApi,data:dataTemp,arr:arrRoot,setArr:setArr,isClear:isClear// ClearState={ClearState}\n}))),/*#__PURE__*/React.createElement(\"button\",{className:\"Booking__clear\",onClick:function onClick(){return window.location.reload();}},\"Clear\"),/*#__PURE__*/React.createElement(Container// className=\"Booking__submit\"\n,{triggerText:triggerText,onSubmit:onSubmit,bookingDetail:arrRoot.arr})));}export default Afterbooking;","map":{"version":3,"sources":["C:/Users/pentester/react/project/project3/src/booking/Afterbooking.js"],"names":["React","useState","useEffect","styled","useExpanded","useTable","Data","BookingService","Container","Styles","div","Table","columns","data","arrRoot","setArr","ClearState","isClear","arr","setArrState","CLear","test","splice","bgforTime","background","bgforTrue","cell","x","time","row","values","column","Header","j","bgCheck","JSON","stringify","bgforFalse","bgCell","value","testClick","sign","i","position","console","log","push","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","map","headerGroup","getHeaderGroupProps","headers","getHeaderProps","render","getRowProps","cells","getCellProps","Afterbooking","props","dataTemp","setDataTemp","undefined","apidata","setApidata","setClear","columnApi","setColumnApi","GetBookingInformation","localStorage","getItem","then","response","status","setItem","date","columnSetting","count","count1","col","arrLocal","accessor","finalTemp","test1","temp","useMemo","triggerText","onSubmit","event","preventDefault","window","location","reload"],"mappings":"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","sourcesContent":["import React , {useState, useEffect} from 'react'\r\nimport styled from 'styled-components'\r\nimport { useExpanded, useTable } from 'react-table'\r\n\r\n// import makeData from './makeData'\r\nimport Data from '../api/booking_data'\r\nimport BookingService from '../services/booking_service'\r\nimport '../css/Afterbooking.css'\r\n\r\nimport {Container} from './bookingModal/Container'\r\n\r\nconst Styles = styled.div`\r\n  padding: 1rem;\r\n  table {\r\n    border-spacing: 0;\r\n    border: 1px solid black;\r\n    tr {\r\n      :last-child {\r\n        td {\r\n          border-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n    th ,\r\n    td {\r\n      margin: 0;\r\n      padding: 1rem;\r\n      border-bottom: 1px solid black;\r\n      border-right: 1px solid black;\r\n      :last-child {\r\n        border-right: 0;\r\n      }\r\n    }\r\n  }\r\n  `\r\n\r\nfunction Table({ columns, data , arrRoot , setArr, ClearState , isClear  }) {\r\n    // Use the state and functions returned from useTable to build your UI\r\n    // becareful if array has some problem, just set arr value default to [0]\r\n    const [arr,setArrState] = useState([])\r\n\r\n\r\n    const CLear = () => {\r\n        setArrState([])\r\n    }\r\n    let test = false\r\n    {isClear ? test = true : test = false}\r\n    if(test){\r\n        arr.splice(0)\r\n        test = false\r\n    }\r\n\r\n//*************************************** */ \r\n\r\nconst bgforTime = {\r\n    background : \"white\"\r\n}\r\nconst bgforTrue =(cell) => {\r\n\r\n    let  x = {\r\n        // row:cell.row.index,\r\n        time:cell.row.values.time,\r\n        column:cell.column.Header\r\n    }\r\n    for(let j in arr){\r\n        var bgCheck = false\r\n    if(JSON.stringify(x) == JSON.stringify(arr[j]) ){\r\n        bgCheck = true\r\n        break\r\n    }\r\n    }\r\n    if(bgCheck){\r\n        return(\r\n            {\r\n                background : \"green\"\r\n            }\r\n        )\r\n    }else{\r\n        return {background : 'white'}\r\n    }\r\n\r\n}\r\n\r\n\r\nconst bgforFalse = {\r\n    background : \"red\"\r\n    \r\n}\r\n\r\nconst bgCell = (cell) => {\r\n    if(cell.column.Header == \"time\"){\r\n        return bgforTime\r\n    }\r\n    else if(cell.value == true){\r\n        return bgforTrue(cell)\r\n        \r\n    }\r\n    else{\r\n        return bgforFalse\r\n    }\r\n\r\n    \r\n}\r\n\r\n\r\n    const testClick = (cell) => { \r\n       let x = {\r\n        //    row:cell.row.index,\r\n            time:cell.row.values.time,\r\n           column:cell.column.Header\r\n       }\r\n       var sign = false\r\n        for(let i in arr){\r\n            if(JSON.stringify(x) == JSON.stringify(arr[i])){\r\n                let position = i\r\n                arr.splice(position,1)\r\n                sign = true\r\n                console.log(\"remove\")\r\n                console.log(\"position \" + position)\r\n                {setArr({arr})}\r\n                break\r\n\r\n            }\r\n        }\r\n    //    }\r\n       if(cell.value == true && sign == false){\r\n           arr.push(x)\r\n           console.log(\"add\")\r\n           \r\n        {setArr({arr})}\r\n\r\n    }\r\n\r\n\r\n       console.log(\"this is arr\")\r\n       console.log(arr)\r\n       console.log(\"this is arrRoot\")\r\n       console.log(arrRoot)\r\n       console.log(x)\r\n       console.log(\"value \")\r\n       console.log(cell.row.values.time)\r\n   \r\n    }\r\n\r\n  \r\n    const {\r\n        getTableProps,\r\n        getTableBodyProps,\r\n        headerGroups,\r\n        rows,\r\n        prepareRow,\r\n    } = useTable({\r\n        columns,\r\n        data,\r\n    })\r\n    // Render the UI for your table\r\n    return (\r\n        <table {...getTableProps()}\r\n            className=\"Booking__table\"\r\n        >\r\n            <thead>\r\n                {headerGroups.map(headerGroup => (\r\n                    <tr {...headerGroup.getHeaderGroupProps()}>\r\n                        {headerGroup.headers.map(column => (\r\n                            <th {...column.getHeaderProps()}>{column.render('Header')}</th>\r\n                        ))}\r\n                    </tr>\r\n                ))}\r\n            </thead>\r\n            <tbody {...getTableBodyProps()}>\r\n                {rows.map((row, i) => {\r\n                    prepareRow(row)\r\n                    return (\r\n                        <tr {...row.getRowProps()}>\r\n                            {row.cells.map(cell => {\r\n                                return  <td {...cell.getCellProps()}\r\n                                     style = {bgCell(cell)}\r\n                                    onClick = {() => {testClick(cell)}}\r\n                                >\r\n                                    {/* <button>test</button> */}\r\n                                    \r\n\r\n                                    {cell.render('Cell')}\r\n                                    \r\n                                    </td>\r\n                           \r\n                                \r\n                                    \r\n                           })}\r\n                        </tr>\r\n\r\n                    )\r\n                })}\r\n            </tbody>\r\n        </table>\r\n    )\r\n\r\n}\r\n// }\r\nfunction Afterbooking(props) {\r\n    const [arrRoot, setArr] = useState([0])\r\n    const [dataTemp, setDataTemp] = useState([])\r\n    const [apidata,setApidata] = useState(undefined)\r\n    const [isClear , setClear]  = useState(false)\r\n    const [columnApi, setColumnApi] = useState([])\r\n    \r\n   useEffect(() => {\r\n\r\n     BookingService.GetBookingInformation(localStorage.getItem(\"date\")).then(response => {\r\n         setDataTemp(response.data.status)\r\n        //  setColumnApi(length(response.data.status[0]))\r\n         localStorage.setItem(\"date2\",response.data.date)\r\n     })\r\n\r\n     columnSetting()\r\n   }, []) \r\n\r\n   const columnSetting = () => {\r\n       BookingService.GetBookingInformation(localStorage.getItem(\"date\")).then(response => {\r\n           const count = response.data.status[0]\r\n           let count1 = 0\r\n           let col = 1\r\n           let arrLocal = [{Header:\"time\",accessor:\"time\"}]\r\n           let finalTemp = []\r\n           let test1 = 0\r\n           for (test1 in count){\r\n                count1++\r\n                \r\n           }\r\n           console.log(\"count1\",count1)\r\n           while(col <= count1-1){\r\n                let temp = {\r\n                    Header:`Court${col}`,\r\n                    accessor:`Court${col}`\r\n                }\r\n                arrLocal.push(temp);\r\n                col++;\r\n           }\r\n        //    setColumnApi(arrLocal)\r\n        console.log(response.data.status)\r\n           console.log(arrLocal)\r\n           finalTemp.push({\r\n               Header:\"All Courts\",\r\n               columns:arrLocal\r\n           })\r\n           console.log(columnApi)\r\n           setColumnApi(finalTemp)\r\n       })\r\n      \r\n\r\n   }\r\n   \r\n   const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                        Header: \"All courts\",\r\n                        // columns: [\r\n                        //     {Header:\"time\",accessor:\"time\"},\r\n                        //     {Header:\"Court1\",accessor:\"Court1\"},\r\n                        //     {Header:\"Court2\",accessor:\"Court2\"},                                            \r\n                        //     {Header:\"Court3\",accessor:\"Court3\"},   \r\n                                                                                               \r\n                        // ]\r\n                        columns:columnApi\r\n                        // use this when you want to use data api \r\n                        // columns: [\r\n                        //     {Header:\"time\",accessor:\"time\"},\r\n                        //     {Header:\"Court1\",accessor:\"court1\"},\r\n                        //     {Header:\"Court2\",accessor:\"court2\"},                                            \r\n                        //     {Header:\"Court3\",accessor:\"court3\"},                                            \r\n                        //     {Header:\"Court4\",accessor:\"court4\"},                                            \r\n                        //     {Header:\"Court5\",accessor:\"court5\"},                                            \r\n                        //     {Header:\"Court6\",accessor:\"court6\"},                                            \r\n                        //     {Header:\"Court7\",accessor:\"court7\"},                                            \r\n                        //     {Header:\"Court8\",accessor:\"court8\"},                                            \r\n                        //     {Header:\"Court9\",accessor:\"court9\"},                                            \r\n                        //     {Header:\"Court10\",accessor:\"court10\"},                        \r\n                        //     {Header:\"Court11\",accessor:\"court11\"},                        \r\n                        // ]\r\n                    }\r\n        ],\r\n        []\r\n    )\r\n    // the problem that I cannot use data because when useEffect has set to dataTemp, data is not set too\r\n    // const data = React.useMemo(() => Data, [])\r\n    // console.log(data)\r\n    console.log(dataTemp)\r\n    console.log(\"this is arrRoot\")\r\n    console.log(arrRoot)\r\n\r\n    const triggerText = 'Booking'\r\n    const onSubmit = (event) => {\r\n        event.preventDefault(event)\r\n    }\r\n // this part I try to create clear booking by callback from function table\r\n    let test = false\r\n\r\n    const ClearState = () => {\r\n            setClear(!isClear)\r\n    }\r\n    \r\n     \r\n    console.log(\"this is isClear\")\r\n    console.log(isClear)\r\n    console.log(\"ColumnApi \", columnApi)\r\n\r\n    return (\r\n        <div className=\"Afterbooking\">\r\n            <div className=\"userbooking__bg\"></div>\r\n            <div className=\"userbookingRoot__bg\">\r\n            <Styles>\r\n                <div className=\"group1_table\">\r\n                    <Table \r\n                        className=\"group1_eachtable\" \r\n                        columns={columnApi} \r\n                        data={dataTemp} \r\n                        arr={arrRoot} \r\n                        setArr={setArr} \r\n                        isClear={isClear}\r\n                        // ClearState={ClearState}\r\n                    />\r\n                </div>\r\n            </Styles>\r\n            <button\r\n                className=\"Booking__clear\"\r\n                onClick={() => window.location.reload()}\r\n            >\r\n                Clear\r\n            </button>\r\n\r\n            <Container \r\n                // className=\"Booking__submit\"\r\n                triggerText={triggerText}\r\n                onSubmit={onSubmit} \r\n                bookingDetail={arrRoot.arr}/>\r\n\r\n</div>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Afterbooking"]},"metadata":{},"sourceType":"module"}