{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\pentester\\\\react\\\\project\\\\project3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import ReactDom from'react-dom';import{Link}from\"react-router-dom\";import CheckButton from\"react-validation/build/button\";import Form from\"react-validation/build/form\";import{isEmail}from'validator';import Input from'react-validation/build/input';import BookingService from'../../services/booking_service';import AuthService from'../../services/auth_service';import createGroup from'../../services/groupservices';import\"../../css/CreateForm.css\";var required=function required(value){if(!value){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",role:\"alert\"},\"This field is required!\");}};var vemail=function vemail(value){if(!isEmail(value)){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",role:\"alert\"},\"This is not a valid email;\");}};var name=function name(value){if(value.length===0||value.length>40){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",role:\"alert\"},\"please fill in your name\");}};var GroupCreateForm=/*#__PURE__*/function(_React$Component){_inherits(GroupCreateForm,_React$Component);var _super=_createSuper(GroupCreateForm);function GroupCreateForm(props){var _this;_classCallCheck(this,GroupCreateForm);_this=_super.call(this,props);_this.state={bookingDetail2:[],name:\"\",email:\"\",phone:\"\",member:false,isSubmit:false,uuid:undefined,isSuccess:false,price:{}};_this.handleCreate=_this.handleCreate.bind(_assertThisInitialized(_this));return _this;}// **********************************************************************\n_createClass(GroupCreateForm,[{key:\"handleCreate\",value:function handleCreate(e){var _this2=this;e.preventDefault();this.form.validateAll();if(this.checkBtn.context._errors.length===0){createGroup.createGroupToServer(this.state.bookingDetail2,this.state.name,this.state.email,this.state.phone).then(function(response){_this2.setState({message:response.data.message,uuid:response.data.receipt,// change this line \nprice:response.data.price,isSubmit:true});},function(error){var resMessage=error.response&&error.response.data&&error.response.data.message||error.message||error.toString();_this2.setState({message:resMessage});});}}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"list_row\"},/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleCreate,ref:function ref(c){_this3.form=c;}},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"button\",{className:\"form-control btn btn-primary\",type:\"submit\"},\"Submit\")),/*#__PURE__*/React.createElement(CheckButton,{className:\"\",style:{display:\"none\"},ref:function ref(c){_this3.checkBtn=c;}}))));}}]);return GroupCreateForm;}(React.Component);export default GroupCreateForm;","map":{"version":3,"sources":["C:/Users/pentester/react/project/project3/src/booking/GroupCreated/GroupCreateForm.js"],"names":["React","ReactDom","Link","CheckButton","Form","isEmail","Input","BookingService","AuthService","createGroup","required","value","vemail","name","length","GroupCreateForm","props","state","bookingDetail2","email","phone","member","isSubmit","uuid","undefined","isSuccess","price","handleCreate","bind","e","preventDefault","form","validateAll","checkBtn","context","_errors","createGroupToServer","then","response","setState","message","data","receipt","error","resMessage","toString","c","display","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport ReactDom from 'react-dom'\r\nimport { Link } from \"react-router-dom\"\r\nimport CheckButton from \"react-validation/build/button\"\r\nimport Form from \"react-validation/build/form\"\r\nimport {isEmail} from 'validator'\r\nimport Input from 'react-validation/build/input'\r\n\r\nimport BookingService from '../../services/booking_service'\r\nimport AuthService from '../../services/auth_service'\r\nimport createGroup from '../../services/groupservices'\r\n\r\nimport \"../../css/CreateForm.css\"\r\n\r\n\r\n\r\n\r\n  const required = value => {\r\n    if (!value){\r\n      return (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          This field is required!\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const vemail = value =>{\r\n    if  (!isEmail(value)){\r\n      return(\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          This is not a valid email;\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  const name = value =>{\r\n    if (value.length === 0 || value.length > 40){\r\n      return (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          please fill in your name \r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n\r\nclass GroupCreateForm extends React.Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      bookingDetail2:[],\r\n      name:\"\",\r\n      email:\"\",\r\n      phone:\"\",\r\n      member:false,\r\n      isSubmit:false,\r\n      uuid:undefined,\r\n      isSuccess:false,\r\n      price:{},\r\n\r\n      \r\n    }\r\n\r\n    this.handleCreate = this.handleCreate.bind(this)\r\n   \r\n  }\r\n\r\n// **********************************************************************\r\n    handleCreate(e){\r\n      e.preventDefault()\r\n      this.form.validateAll();\r\n\r\n\r\n      if(this.checkBtn.context._errors.length === 0){\r\n        createGroup.createGroupToServer(\r\n          this.state.bookingDetail2,\r\n          this.state.name,\r\n          this.state.email,\r\n          this.state.phone,\r\n        )\r\n        .then(\r\n          response => {\r\n            this.setState({\r\n              message: response.data.message,\r\n              uuid:response.data.receipt, // change this line \r\n              price:response.data.price,\r\n              isSubmit : true,\r\n            })\r\n          },\r\n          error => {\r\n            const resMessage = \r\n            (error.response && \r\n              error.response.data &&\r\n              error.response.data.message) ||\r\n              error.message ||\r\n              error.toString();\r\n\r\n              this.setState({\r\n                message: resMessage\r\n              })\r\n          }\r\n        )\r\n      }\r\n\r\n      \r\n\r\n    }\r\n\r\n\r\n    render(){\r\n      \r\n  return (\r\n   <div>\r\n    \r\n    <div className=\"list_row\">\r\n      <Form \r\n        onSubmit={this.handleCreate}\r\n        ref = {c => {\r\n          this.form = c\r\n        }}\r\n      \r\n      >\r\n     \r\n       \r\n        <div className=\"form-group\">\r\n         <button className=\"form-control btn btn-primary\" type=\"submit\">\r\n           Submit\r\n         </button>\r\n       </div>\r\n\r\n       <CheckButton\r\n        className=\"\"\r\n        style={{display:\"none\"}}\r\n        ref={c => {\r\n          this.checkBtn = c\r\n        }}\r\n       >\r\n\r\n       </CheckButton>\r\n      </Form>\r\n    </div>\r\n    \r\n\r\n    </div>\r\n      \r\n  )\r\n      }\r\n}\r\n\r\nexport default GroupCreateForm\r\n\r\n"]},"metadata":{},"sourceType":"module"}